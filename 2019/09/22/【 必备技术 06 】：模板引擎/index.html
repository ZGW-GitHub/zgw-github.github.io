<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="【 必备技术 06 】：模板引擎, 愆凡の博客">
    <meta name="description" content="一、Thymeleaf1、声明名称空间对模板处理没有任何影响，但是可以防止 IDE 对 th: * 属性的名称空间未定义的报错 。
1&amp;lt;html xmlns:th=&#34;http://www.thymeleaf.org&#34;&amp;gt;

2、各">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>【 必备技术 06 】：模板引擎 | 愆凡の博客</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    
    <script src="/libs/jquery/jquery.min.js"></script>
    
<meta name="generator" content="Hexo 4.2.0"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">愆凡の博客</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">愆凡の博客</div>
        <div class="logo-desc">
            
            Was vernünftig ist, das ist wirklich; und was wirklich ist, das ist vernünftig.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			Contact
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/ZGW-GitHub" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/ZGW-GitHub" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('文章正在修正，请稍后再来阅读！')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/17.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">【 必备技术 06 】：模板引擎</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E5%BF%85%E5%A4%87%E6%8A%80%E6%9C%AF/" class="post-category">
                                必备技术
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2019-09-22
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2020-03-21
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    10.4k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    50 分
                </div>
                
				
                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
            
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="一、Thymeleaf"><a href="#一、Thymeleaf" class="headerlink" title="一、Thymeleaf"></a>一、Thymeleaf</h2><h3 id="1、声明名称空间"><a href="#1、声明名称空间" class="headerlink" title="1、声明名称空间"></a>1、声明名称空间</h3><p>对模板处理没有任何影响，但是可以防止 IDE 对 <code>th: *</code> 属性的名称空间未定义的报错 。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2、各种表达式-th-text-quot-XXX-quot-th-utext-quot-XXX-quot"><a href="#2、各种表达式-th-text-quot-XXX-quot-th-utext-quot-XXX-quot" class="headerlink" title="2、各种表达式            th:text=&quot;XXX&quot; th:utext=&quot;XXX&quot;"></a>2、各种表达式            <code>th:text=&quot;XXX&quot;</code> <code>th:utext=&quot;XXX&quot;</code></h3><h4 id="a、表达式对象"><a href="#a、表达式对象" class="headerlink" title="a、表达式对象"></a>a、表达式对象</h4><h5 id="①、表达式基本对象"><a href="#①、表达式基本对象" class="headerlink" title="①、表达式基本对象 :"></a>①、表达式基本对象 :</h5><blockquote>
<ul>
<li><code>#ctx</code> :                                   上下文对象 。</li>
<li><code>#vars</code> :                                 上下文变量 。 </li>
<li><code>#locale</code> :                             上下文区域设置 。</li>
<li><code>#request</code> :                           (仅在 Web 上下文中) <code>HttpServletRequest</code> 对象 。 </li>
<li><code>#response</code> :                         (仅在 Web 上下文中) <code>HttpServletResponse</code> 对象 。 </li>
<li><code>#session</code> :                           (仅在 Web 上下文中) <code>HttpSession</code> 对象 。 </li>
<li><code>#ServletContext</code> :             (仅在 Web 上下文中) <code>ServletContext</code> 对象 。</li>
</ul>
</blockquote>
<h5 id="②、表达式实用程序对象"><a href="#②、表达式实用程序对象" class="headerlink" title="②、表达式实用程序对象 :"></a>②、表达式实用程序对象 :</h5><blockquote>
<p>除了这些基本对象之外，<code>Thymeleaf</code> 还提供了一组实用工具对象，它们将帮助我们执行表达式中的常见任务 。</p>
<ul>
<li><code>#execInfo</code> : 关于正在处理的模板的信息 。</li>
<li><code>#messages</code> : 用于获取变量表达式内的外部化消息的方法，与使用 <code>#{…}</code> 语法获得消息的方法相同 。</li>
<li><code>#uris</code> : 用于转义部分 <code>URL / URI</code> 的方法 。</li>
<li><code>#conversions</code> : 用于执行配置的转换服务（如果有）的方法 。</li>
<li><code>#dates</code> : <code>java.util.Date</code> 对象的方法：格式化，组件提取等 。</li>
<li><code>#calendars</code> : 与 <code>#dates</code> 类似 , 但适用于 <code>java.util.Calendar</code> 对象 。</li>
<li><code>#numbers</code> : 格式化数字对象的方法 。</li>
<li><code>#strings</code> : 用于 <code>String</code> 对象的方法：<code>contains ( 包含 )</code> , <code>startsWith</code> ,  <code>prepending(前置)/appending(追加)</code> , 等 。</li>
<li><code>#objects</code> : 通常用于对象的方法 。</li>
<li><code>#bools</code> : 布尔值评估的方法 。</li>
<li><code>#arrays</code> : array方法 。</li>
<li><code>#lists</code> : list 方法 。</li>
<li><code>#sets</code> : set 方法 。</li>
<li><code>#maps</code> : map 方法 。</li>
<li><code>#aggregates</code> : 在数组或集合上创建聚合的方法 。</li>
<li><code>#ids</code> : 处理可能重复的id属性的方法（ 例如，作为迭代的结果 ） 。</li>
</ul>
</blockquote>
<h4 id="b、引用外部化配置"><a href="#b、引用外部化配置" class="headerlink" title="b、引用外部化配置            #{}"></a>b、引用外部化配置            <code>#{}</code></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">properties :</span><br><span class="line">user.msg = &#123;0&#125; 是 &#123;1&#125; 的</span><br><span class="line"></span><br><span class="line">html :</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"#&#123;user.msg($&#123;session.user.name&#125;,$&#123;session.user.sex&#125;)&#125;"</span>&gt;</span>Welcome<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">或</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"#&#123;$&#123;msg&#125;($&#123;session.user.name&#125;,$&#123;session.user.sex&#125;)&#125;"</span>&gt;</span>Welcome<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>外部化配置 :</p>
<ol>
<li>可以通过自定义 <code>org.thymeleaf.messageresolver.IMessageResolver</code> ( 消息解析器 ) 来实现各种类型的外部化配置 , 如从数据库中获取配置信息 .</li>
<li>当没有自定义<strong>消息解析器</strong>时 , 会使用默认的标准消息解析器 .</li>
</ol>
</li>
<li><p>标准消息解析器 :</p>
<p>标准的消息解析器默认会从文件所在文件夹下找寻 <code>*.properties</code> 文件 , 来获取配置信息 . 如 :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;WEB-INF&#x2F;templates&#x2F;home_en.properties 		用于英语</span><br><span class="line">&#x2F;WEB-INF&#x2F;templates&#x2F;home.properties 			用于默认文本(如果区域设置不匹配)。</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="c、变量表达式"><a href="#c、变量表达式" class="headerlink" title="c、变量表达式            ${}"></a>c、变量表达式            <code>${}</code></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;home&#125;"</span>&gt;</span>Welcome<span class="tag">&lt;/<span class="name">p</span>&gt;</span> <span class="comment">&lt;!-- 获取名为 home 的变量 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;home.welcome&#125;"</span>&gt;</span>Welcome<span class="tag">&lt;/<span class="name">p</span>&gt;</span> <span class="comment">&lt;!-- 获取名为 home 的变量，并调用其 getWelcome() 方法 --&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>表达式各种用法 :</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Access to properties using the point (.). Equivalent to calling property getters.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$&#123;person.father.name&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Access to properties can also be made by using brackets ([]) and writing </span></span><br><span class="line"><span class="comment"> * the name of the property as a variable or between single quotes.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$&#123;person['father']['name']&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * If the object is a map, both dot and bracket syntax will be equivalent to </span></span><br><span class="line"><span class="comment"> * executing a call on its get(...) method.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$&#123;countriesByCode.ES&#125;</span><br><span class="line">$&#123;personsByName['Stephen Zucchini'].age&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Indexed access to arrays or collections is also performed with brackets, </span></span><br><span class="line"><span class="comment"> * writing the index without quotes.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$&#123;personsArray[0].name&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Methods can be called, even with arguments.</span></span><br><span class="line"><span class="comment"> * 使用参数，也可以调用方法。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$&#123;person.createCompleteName()&#125;</span><br><span class="line">$&#123;person.createCompleteNameWithSeparator('-')&#125;</span><br></pre></td></tr></table></figure>

<h4 id="d、选择变量表达式"><a href="#d、选择变量表达式" class="headerlink" title="d、选择变量表达式            *{}"></a>d、选择变量表达式            <code>*{}</code></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:object</span>=<span class="string">"$&#123;session.user&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Name: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;firstName&#125;"</span>&gt;</span>Sebastian<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Surname: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;lastName&#125;"</span>&gt;</span>Pepper<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Nationality: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;nationality&#125;"</span>&gt;</span>Saturn<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>以上代码完全等同于 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Name: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;session.user.firstName&#125;"</span>&gt;</span>Sebastian<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Surname: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;session.user.lastName&#125;"</span>&gt;</span>Pepper<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Nationality: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;session.user.nationality&#125;"</span>&gt;</span>Saturn<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>${}</code> 和 <code>*{}</code> 语法可以混合使用 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:object</span>=<span class="string">"$&#123;session.user&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Name: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;firstName&#125;"</span>&gt;</span>Sebastian<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Surname: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;session.user.lastName&#125;"</span>&gt;</span>Pepper<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Nationality: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;nationality&#125;"</span>&gt;</span>Saturn<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>可以使用 <code>#object</code> 表示选中的对象 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:object</span>=<span class="string">"$&#123;session.user&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Name: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#object.firstName&#125;"</span>&gt;</span>Sebastian<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Surname: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;session.user.lastName&#125;"</span>&gt;</span>Pepper<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Nationality: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;nationality&#125;"</span>&gt;</span>Saturn<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意 : 当没有执行对象选择，那么 <code>${}</code> 和 <code>*{}</code> 语法是等价的 。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Name: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;session.user.name&#125;"</span>&gt;</span>Sebastian<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Surname: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;session.user.surname&#125;"</span>&gt;</span>Pepper<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Nationality: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;session.user.nationality&#125;"</span>&gt;</span>Saturn<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="e、链接-URL-表达式"><a href="#e、链接-URL-表达式" class="headerlink" title="e、链接 URL 表达式            @{}"></a>e、链接 URL 表达式            <code>@{}</code></h4><h5 id="①、不同类型的-URL"><a href="#①、不同类型的-URL" class="headerlink" title="①、不同类型的 URL"></a>①、不同类型的 URL</h5><ul>
<li>绝对 URLS : <code>http://www.thymeleaf.org</code></li>
<li>相对 URLs :<ul>
<li>页面相关 url : <code>user/login.html</code></li>
<li>相对于上下文 url : <code>/itemdetails?id=3</code> ( 服务器上的上下文名称将自动添加 )</li>
<li>相对于服务器 url : <code>~/billing/processInvoice</code> ( 允许在同一服务器中的另一个上下文(应用程序)中调用 url )</li>
<li>协议相对 url : <code>//code.jquery.com/jquery-2.0.3.min.js</code></li>
</ul>
</li>
</ul>
<h5 id="②、th-href-quot-quot"><a href="#②、th-href-quot-quot" class="headerlink" title="②、th:href=&quot;@{}&quot;"></a>②、<code>th:href=&quot;@{}&quot;</code></h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 将产生 'http://localhost:8080/gtvg/order/details?orderId=3' (和重定向) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"details.html"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">th:href</span>=<span class="string">"@&#123;http://localhost:8080/gtvg/order/details(orderId=$&#123;o.id&#125;)&#125;"</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 将产生 '/gtvg/order/details?orderId=3' (和重定向) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"details.html"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">th:href</span>=<span class="string">"@&#123;/order/details(orderId=$&#123;o.id&#125;)&#125;"</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 将产生 '/gtvg/order/3/details' (和重定向) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"details.html"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">th:href</span>=<span class="string">"@&#123;/order/&#123;orderId&#125;/details(orderId=$&#123;o.id&#125;)&#125;"</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="③、注意"><a href="#③、注意" class="headerlink" title="③、注意"></a>③、注意</h5><blockquote>
<ul>
<li><p><code>th:href</code> 是一个修饰符属性 : 一旦被处理，它将计算要使用的链接 URL 并将该值设置为 a 标签的 <code>href</code> 属性 。</p>
</li>
<li><p>允许对 URL 参数使用表达式 ( 可以在上面代码中看到 <code>orderId=${o.id}</code> ) 。所需的 url 参数编码操作会自动执行 。</p>
</li>
<li><p>如果需要多个参数，可以用逗号分隔 : <code>@{/order/process(execId=${execId},execType=&#39;FAST&#39;)}</code></p>
</li>
<li><p>在 URL 路径中也允许使用变量模板 : <code>@{/order/{orderId}/details(orderId=${orderId})}</code></p>
</li>
<li><p>以 <code>/</code> ( 例如 : <code>/order/details</code> ) 开头的相对 url 将自动以应用程序上下文名称作为前缀 。</p>
</li>
<li><p>如果没有启用 cookie 或者这个还不知道，一个 <code>“;jsessionid...”</code>后缀可能会被添加到相对 url 中，以便会话被保留 。 这被称为 URL 重写，Thymeleaf 允许您为每个 URL 使用 Servlet API 的 <code>response.encodeURL (...)</code> 机制插入自己的重写过滤器 。</p>
</li>
<li><p><code>th:href</code> 属性允许我们(可选地)在模板中拥有一个静态 href 属性，这样当浏览器为了原型化目的直接打开时，模板链接仍然可以导航 。</p>
</li>
<li><p>和消息语法 ( <code># { ... }</code> ) 一样，URL 的组成也可以是另一个表达式的计算结果 : </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">"@&#123;$&#123;url&#125;(orderId=$&#123;o.id&#125;)&#125;"</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">"@&#123;'/details/'+$&#123;user.login&#125;(orderId=$&#123;o.id&#125;)&#125;"</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
</blockquote>
<h5 id="④、服务器相对-URL"><a href="#④、服务器相对-URL" class="headerlink" title="④、服务器相对 URL"></a>④、服务器相对 URL</h5><p>可以使用其他语法来创建相对于服务器根目录的 URL（而不是上下文根目录的 URL），以便链接到同一服务器中的不同上下文 。</p>
<p>如 : <code>@{~/path/to/something}</code></p>
<h4 id="f、段落表达式"><a href="#f、段落表达式" class="headerlink" title="f、段落表达式            ~{}"></a>f、段落表达式            <code>~{}</code></h4><h4 id="g、字面值"><a href="#g、字面值" class="headerlink" title="g、字面值"></a>g、字面值</h4><ul>
<li><p>文本字面值                    <code>&#39;one text&#39;</code> , <code>&#39;Another one!&#39;</code> , …</p>
<p>使用 <code>&#39; &#39;</code> 包裹的字符串 , 若字符串中包含 <code>&#39;</code> 应该使用 <code>\</code> 转义</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">  Now you are looking at a <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"'working web application'"</span>&gt;</span>template file<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>数字字面值                    <code>0</code> , <code>34</code> , <code>3.0</code> , <code>12.3</code> , …</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The year is <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"2013"</span>&gt;</span>1492<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>In two years, it will be <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"2013 + 2"</span>&gt;</span>1494<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Boolean 字面值            <code>true</code> , <code>false</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 在此示例中，== false被写在花括号之外，因此 Thymeleaf 负责处理。</span></span><br><span class="line"><span class="comment">	 如果将其写在花括号内，则由 OGNL / SpringEL 引擎负责：--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:if</span>=<span class="string">"$&#123;user.isAdmin()&#125; == false"</span>&gt;</span> ...</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:if</span>=<span class="string">"$&#123;user.isAdmin() == false&#125;"</span>&gt;</span> ...</span><br></pre></td></tr></table></figure>
</li>
<li><p>NULL 字面值                <code>null</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:if</span>=<span class="string">"$&#123;variable.something&#125; == null"</span>&gt;</span> ...</span><br></pre></td></tr></table></figure>
</li>
<li><p>文字符号                        <code>one</code> , <code>sometext</code> , <code>main</code> , …</p>
<p><code>Numeric</code> , <code>boolean</code> 和 <code>null</code> 实际上是文字标记的一种特殊情况 。</p>
<p>这些标记允许在标准表达式中进行一些简化。 它们的工作方式与文本文字 <code>( &#39;...&#39; )</code> 完全相同，但是它们仅允许使用 <code>字母 (A-Z and a-z)</code> ，<code>数字 ( 0-9 )</code>，<code>方括号 ( [ 和 ] )</code> ，<code>点( . )</code> ，<code>连字符 ( - )</code> 和 <code>下划线 ( _ )</code> 。因此，没有空格，没有逗号等。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">所以可以这样使用 :</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:class</span>=<span class="string">"content"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">而不是 :</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:class</span>=<span class="string">"'content'"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="h、文本操作"><a href="#h、文本操作" class="headerlink" title="h、文本操作"></a>h、文本操作</h4><ul>
<li><p>字符串连接 :         <strong>+</strong></p>
</li>
<li><p>文字替换 :             <strong>|The name is ${name}|</strong></p>
<p>文字替换允许对包含变量值的字符串进行替换，而省略了 <code>&#39;...&#39; + &#39;...&#39;</code> 麻烦操作。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"|Welcome to our application, $&#123;user.name&#125;!|"</span>&gt;</span></span><br><span class="line">相当于 :</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"'Welcome to our application, ' + $&#123;user.name&#125; + '!'"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>注意 :</strong></p>
<p><code>| ... |</code> 可以与其他类型的表达式结合在一起 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;onevar&#125; + ' ' + |$&#123;twovar&#125;, $&#123;threevar&#125;|"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>但是 <code>| ... |</code>内仅允许使用 变量 / 消息表达式 <code>( $ {...} ，* {...} ，＃{...} )</code> 进行文字替换 。不允许其他文字 <code>( &#39;...&#39; )</code> ，<code>boolean</code> ，<code>数字标记</code> ，<code>条件表达式</code> 等 。</p>
</li>
</ul>
<h4 id="i、算数运算"><a href="#i、算数运算" class="headerlink" title="i、算数运算"></a>i、算数运算</h4><ul>
<li>二进制运算符 :                +  ,  -  ,  *  ,  /  ,  %</li>
<li>减号(一元运算符) :          -</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 在此示例中，% 被写在花括号之外，因此 Thymeleaf 负责处理。</span></span><br><span class="line"><span class="comment">	 如果将其写在花括号内，则由 OGNL / SpringEL 引擎负责：--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:with</span>=<span class="string">"isEven=($&#123;prodStat.count&#125; % 2 == 0)"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">等同于 :</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:with</span>=<span class="string">"isEven=$&#123;prodStat.count % 2 == 0&#125;"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="j、布尔操作"><a href="#j、布尔操作" class="headerlink" title="j、布尔操作"></a>j、布尔操作</h4><ul>
<li>二进制运算符 :                             <code>and</code>，<code>or</code></li>
<li>布尔否定(一元运算符) :                <code>!</code>  ,  <code>null</code></li>
</ul>
<h4 id="k、比较运算符"><a href="#k、比较运算符" class="headerlink" title="k、比较运算符"></a>k、比较运算符</h4><ul>
<li><p>比较 :             <code>&gt;</code>  ,  <code>&lt;</code>  ,  <code>&gt;=</code>  ,  <code>&lt;=</code>  (  <code>gt</code>  ,  <code>lt</code>  ,  <code>ge</code>  ,  <code>le</code>  )</p>
</li>
<li><p>相等 :             <code>==</code>  ,  <code>!=</code>  (  <code>eq</code>  ,  <code>ne/neq</code>  )</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">XML 规定不应在属性值中使用和符号，因此应该用别名 。</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:if</span>=<span class="string">"$&#123;prodStat.count&#125; <span class="symbol">&amp;gt;</span> 1"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"'Execution mode is ' + ( ($&#123;execMode&#125; == 'dev')? 'Development' : 'Production')"</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="l、条件运算符"><a href="#l、条件运算符" class="headerlink" title="l、条件运算符"></a>l、条件运算符</h4><ul>
<li>If-then-else :             <code>(if) ? (then) : (else)</code></li>
<li>If-then :                     <code>(if) ? (then)</code></li>
<li>Default :                    <code>(value) ?: (defaultvalue)</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:class</span>=<span class="string">"$&#123;row.even&#125; ? 'even' : 'odd'"</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">条件表达式也可以使用括号嵌套 :</span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:class</span>=<span class="string">"$&#123;row.even&#125; ? ($&#123;row.first&#125; ? 'first' : 'even') : 'odd'"</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">也可以省略 Else 表达式，如果条件为 false，则返回 null 值 :</span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:class</span>=<span class="string">"$&#123;row.even&#125; ? 'alt'"</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>默认表达式是一种特殊的条件值，没有 then 部分。</p>
<p>允许您指定两个表达式 : </p>
<p>如果第一个表达式计算结果不为 null ，则使用第一个表达式 ; </p>
<p>如果计算结果为 null，则使用第二个表达式 。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:object</span>=<span class="string">"$&#123;session.user&#125;"</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Age: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;age&#125; ?: '(no age specified)'"</span>&gt;</span>27<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">等价于 :</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Age: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;age != null&#125; ? *&#123;age&#125; : '(no age specified)'"</span>&gt;</span>27<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">它也可以嵌套使用 :</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">  Name: </span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;firstName&#125;?: (*&#123;admin&#125;? 'Admin' : #&#123;default.username&#125;)"</span>&gt;</span>Sebastian<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="m、禁止操作"><a href="#m、禁止操作" class="headerlink" title="m、禁止操作 _"></a>m、禁止操作 <code>_</code></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.name&#125; ?: 'no user authenticated'"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">可以使用 _ 来简化以上代码 :</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.name&#125; ?: _"</span>&gt;</span>no user authenticated<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="n、数据转换-格式化"><a href="#n、数据转换-格式化" class="headerlink" title="n、数据转换 / 格式化"></a>n、数据转换 / 格式化</h4><p>Thymeleaf 为变量 ( <code>${...}</code> ) 和选择 ( <code>*{...}</code> ) 表达式定义了一个双括号语法，使我们可以通过配置的转换服务来应用数据转换。如 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123; &#123;user.lastAccessDate&#125; &#125;"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意到那里的双括号了吗：<code>${ {...} }</code>。 这指示 Thymeleaf 将 <code>user.lastAccessDate</code> 表达式的结果传递给转换服务，并要求它执行格式操作（转换为String），然后再写入结果。 假设 <code>user.lastAccessDate</code> 为 <code>java.util.Calendar</code> 类型，如果已注册转换服务（ <code>IStandardConversionService</code> 的实现 ）并包含<code>Calendar -&gt; String</code> 的有效转换，则将应用该转换服务。<code>IStandardConversionService</code> 的默认实现（ <code>StandardConversionService</code> 类）仅对转换为 String 的任何对象执行 <code>.toString()</code>。 有关如何注册自定义转换服务实现的更多信息，请参见“更多关于配置”部分。</p>
<p>官方的 <code>thymeleaf-spring3</code> 和 <code>thymeleaf-spring4</code> 集成软件包透明地将 Thymeleaf 的转换服务机制与 Spring 自己的转换服务基础结构集成在一起，以便在 Spring 配置中声明的转换服务和格式化程序将自动提供给 <code>${ {...} }</code> 和 <code>*{ {...} }</code> 表达式 。</p>
</blockquote>
<h4 id="o、预处理"><a href="#o、预处理" class="headerlink" title="o、预处理"></a>o、预处理</h4><blockquote>
<p>除了用于表达式处理的所有这些功能之外，Thymeleaf 还具有预处理表达式的功能。</p>
<p>预处理是在普通表达式之前执行的表达式的执行，该表达式允许修改最终将要执行的表达式。</p>
<p>预处理表达式与普通表达式完全一样，但是会出现一个双下划线符号（ 例如 <code>__ $ {expression} __</code> ）。</p>
</blockquote>
<p>当我们配置了一个属性 :</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">article.text</span>=<span class="string">@myapp.translator.Translator@translateToFrench(&#123;0&#125;)</span></span><br></pre></td></tr></table></figure>

<p>我们可以使用预处理 , 预先处理该属性值 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;__#&#123;article.text('textVar')&#125;__&#125;"</span>&gt;</span>Some text here...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">等价于 :</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;@myapp.translator.Translator@translateToFrench(textVar)&#125;"</span>&gt;</span>Some text here...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>可以使用 <code>\_\_</code> 在属性中对预处理字符串 <code>__</code> 进行转义。</p>
<h4 id="所有表达式都可以组合嵌套-示例"><a href="#所有表达式都可以组合嵌套-示例" class="headerlink" title="所有表达式都可以组合嵌套 , 示例 :"></a>所有表达式都可以组合嵌套 , 示例 :</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;User is of type &#39; + ($&#123;user.isAdmin()&#125; ? &#39;Administrator&#39; : ($&#123;user.type&#125; ?: &#39;Unknown&#39;))</span><br></pre></td></tr></table></figure>

<h3 id="3、设置属性值-th-attr-quot-XXX-quot"><a href="#3、设置属性值-th-attr-quot-XXX-quot" class="headerlink" title="3、设置属性值            th:attr=&quot;XXX&quot;"></a>3、设置属性值            <code>th:attr=&quot;XXX&quot;</code></h3><h4 id="a、为所有属性设置值"><a href="#a、为所有属性设置值" class="headerlink" title="a、为所有属性设置值"></a>a、为所有属性设置值</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"subscribe.html"</span> <span class="attr">th:attr</span>=<span class="string">"action=@&#123;/subscribe&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"email"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Subscribe!"</span> <span class="attr">th:attr</span>=<span class="string">"value=#&#123;subscribe.submit&#125;"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">等价于 :</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/gtvg/subscribe"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"email"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Suscríbe!"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>一次性为多个属性设置值 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"../../images/gtvglogo.png"</span> </span></span><br><span class="line"><span class="tag">     <span class="attr">th:attr</span>=<span class="string">"src=@&#123;/images/gtvglogo.png&#125;,title=#&#123;logo&#125;,alt=#&#123;logo&#125;"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">等价于 :</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/gtgv/images/gtvglogo.png"</span> <span class="attr">title</span>=<span class="string">"Logo de Good Thymes"</span> <span class="attr">alt</span>=<span class="string">"Logo de Good Thymes"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="b、为特定属性设置值-th"><a href="#b、为特定属性设置值-th" class="headerlink" title="b、为特定属性设置值            th:*"></a>b、为特定属性设置值            <code>th:*</code></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Subscribe!"</span> <span class="attr">th:value</span>=<span class="string">"#&#123;subscribe.submit&#125;"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"subscribe.html"</span> <span class="attr">th:action</span>=<span class="string">"@&#123;/subscribe&#125;"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"product/list.html"</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/product/list&#125;"</span>&gt;</span>Product List<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left"><code>th:abbr</code></th>
<th align="left"><code>th:accept</code></th>
<th align="left"><code>th:accept-charset</code></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>th:accesskey</code></td>
<td align="left"><code>th:action</code></td>
<td align="left"><code>th:align</code></td>
</tr>
<tr>
<td align="left"><code>th:alt</code></td>
<td align="left"><code>th:archive</code></td>
<td align="left"><code>th:audio</code></td>
</tr>
<tr>
<td align="left"><code>th:autocomplete</code></td>
<td align="left"><code>th:axis</code></td>
<td align="left"><code>th:background</code></td>
</tr>
<tr>
<td align="left"><code>th:bgcolor</code></td>
<td align="left"><code>th:border</code></td>
<td align="left"><code>th:cellpadding</code></td>
</tr>
<tr>
<td align="left"><code>th:cellspacing</code></td>
<td align="left"><code>th:challenge</code></td>
<td align="left"><code>th:charset</code></td>
</tr>
<tr>
<td align="left"><code>th:cite</code></td>
<td align="left"><code>th:class</code></td>
<td align="left"><code>th:classid</code></td>
</tr>
<tr>
<td align="left"><code>th:codebase</code></td>
<td align="left"><code>th:codetype</code></td>
<td align="left"><code>th:cols</code></td>
</tr>
<tr>
<td align="left"><code>th:colspan</code></td>
<td align="left"><code>th:compact</code></td>
<td align="left"><code>th:content</code></td>
</tr>
<tr>
<td align="left"><code>th:contenteditable</code></td>
<td align="left"><code>th:contextmenu</code></td>
<td align="left"><code>th:data</code></td>
</tr>
<tr>
<td align="left"><code>th:datetime</code></td>
<td align="left"><code>th:dir</code></td>
<td align="left"><code>th:draggable</code></td>
</tr>
<tr>
<td align="left"><code>th:dropzone</code></td>
<td align="left"><code>th:enctype</code></td>
<td align="left"><code>th:for</code></td>
</tr>
<tr>
<td align="left"><code>th:form</code></td>
<td align="left"><code>th:formaction</code></td>
<td align="left"><code>th:formenctype</code></td>
</tr>
<tr>
<td align="left"><code>th:formmethod</code></td>
<td align="left"><code>th:formtarget</code></td>
<td align="left"><code>th:fragment</code></td>
</tr>
<tr>
<td align="left"><code>th:frame</code></td>
<td align="left"><code>th:frameborder</code></td>
<td align="left"><code>th:headers</code></td>
</tr>
<tr>
<td align="left"><code>th:height</code></td>
<td align="left"><code>th:high</code></td>
<td align="left"><code>th:href</code></td>
</tr>
<tr>
<td align="left"><code>th:hreflang</code></td>
<td align="left"><code>th:hspace</code></td>
<td align="left"><code>th:http-equiv</code></td>
</tr>
<tr>
<td align="left"><code>th:icon</code></td>
<td align="left"><code>th:id</code></td>
<td align="left"><code>th:inline</code></td>
</tr>
<tr>
<td align="left"><code>th:keytype</code></td>
<td align="left"><code>th:kind</code></td>
<td align="left"><code>th:label</code></td>
</tr>
<tr>
<td align="left"><code>th:lang</code></td>
<td align="left"><code>th:list</code></td>
<td align="left"><code>th:longdesc</code></td>
</tr>
<tr>
<td align="left"><code>th:low</code></td>
<td align="left"><code>th:manifest</code></td>
<td align="left"><code>th:marginheight</code></td>
</tr>
<tr>
<td align="left"><code>th:marginwidth</code></td>
<td align="left"><code>th:max</code></td>
<td align="left"><code>th:maxlength</code></td>
</tr>
<tr>
<td align="left"><code>th:media</code></td>
<td align="left"><code>th:method</code></td>
<td align="left"><code>th:min</code></td>
</tr>
<tr>
<td align="left"><code>th:name</code></td>
<td align="left"><code>th:onabort</code></td>
<td align="left"><code>th:onafterprint</code></td>
</tr>
<tr>
<td align="left"><code>th:onbeforeprint</code></td>
<td align="left"><code>th:onbeforeunload</code></td>
<td align="left"><code>th:onblur</code></td>
</tr>
<tr>
<td align="left"><code>th:oncanplay</code></td>
<td align="left"><code>th:oncanplaythrough</code></td>
<td align="left"><code>th:onchange</code></td>
</tr>
<tr>
<td align="left"><code>th:onclick</code></td>
<td align="left"><code>th:oncontextmenu</code></td>
<td align="left"><code>th:ondblclick</code></td>
</tr>
<tr>
<td align="left"><code>th:ondrag</code></td>
<td align="left"><code>th:ondragend</code></td>
<td align="left"><code>th:ondragenter</code></td>
</tr>
<tr>
<td align="left"><code>th:ondragleave</code></td>
<td align="left"><code>th:ondragover</code></td>
<td align="left"><code>th:ondragstart</code></td>
</tr>
<tr>
<td align="left"><code>th:ondrop</code></td>
<td align="left"><code>th:ondurationchange</code></td>
<td align="left"><code>th:onemptied</code></td>
</tr>
<tr>
<td align="left"><code>th:onended</code></td>
<td align="left"><code>th:onerror</code></td>
<td align="left"><code>th:onfocus</code></td>
</tr>
<tr>
<td align="left"><code>th:onformchange</code></td>
<td align="left"><code>th:onforminput</code></td>
<td align="left"><code>th:onhashchange</code></td>
</tr>
<tr>
<td align="left"><code>th:oninput</code></td>
<td align="left"><code>th:oninvalid</code></td>
<td align="left"><code>th:onkeydown</code></td>
</tr>
<tr>
<td align="left"><code>th:onkeypress</code></td>
<td align="left"><code>th:onkeyup</code></td>
<td align="left"><code>th:onload</code></td>
</tr>
<tr>
<td align="left"><code>th:onloadeddata</code></td>
<td align="left"><code>th:onloadedmetadata</code></td>
<td align="left"><code>th:onloadstart</code></td>
</tr>
<tr>
<td align="left"><code>th:onmessage</code></td>
<td align="left"><code>th:onmousedown</code></td>
<td align="left"><code>th:onmousemove</code></td>
</tr>
<tr>
<td align="left"><code>th:onmouseout</code></td>
<td align="left"><code>th:onmouseover</code></td>
<td align="left"><code>th:onmouseup</code></td>
</tr>
<tr>
<td align="left"><code>th:onmousewheel</code></td>
<td align="left"><code>th:onoffline</code></td>
<td align="left"><code>th:ononline</code></td>
</tr>
<tr>
<td align="left"><code>th:onpause</code></td>
<td align="left"><code>th:onplay</code></td>
<td align="left"><code>th:onplaying</code></td>
</tr>
<tr>
<td align="left"><code>th:onpopstate</code></td>
<td align="left"><code>th:onprogress</code></td>
<td align="left"><code>th:onratechange</code></td>
</tr>
<tr>
<td align="left"><code>th:onreadystatechange</code></td>
<td align="left"><code>th:onredo</code></td>
<td align="left"><code>th:onreset</code></td>
</tr>
<tr>
<td align="left"><code>th:onresize</code></td>
<td align="left"><code>th:onscroll</code></td>
<td align="left"><code>th:onseeked</code></td>
</tr>
<tr>
<td align="left"><code>th:onseeking</code></td>
<td align="left"><code>th:onselect</code></td>
<td align="left"><code>th:onshow</code></td>
</tr>
<tr>
<td align="left"><code>th:onstalled</code></td>
<td align="left"><code>th:onstorage</code></td>
<td align="left"><code>th:onsubmit</code></td>
</tr>
<tr>
<td align="left"><code>th:onsuspend</code></td>
<td align="left"><code>th:ontimeupdate</code></td>
<td align="left"><code>th:onundo</code></td>
</tr>
<tr>
<td align="left"><code>th:onunload</code></td>
<td align="left"><code>th:onvolumechange</code></td>
<td align="left"><code>th:onwaiting</code></td>
</tr>
<tr>
<td align="left"><code>th:optimum</code></td>
<td align="left"><code>th:pattern</code></td>
<td align="left"><code>th:placeholder</code></td>
</tr>
<tr>
<td align="left"><code>th:poster</code></td>
<td align="left"><code>th:preload</code></td>
<td align="left"><code>th:radiogroup</code></td>
</tr>
<tr>
<td align="left"><code>th:rel</code></td>
<td align="left"><code>th:rev</code></td>
<td align="left"><code>th:rows</code></td>
</tr>
<tr>
<td align="left"><code>th:rowspan</code></td>
<td align="left"><code>th:rules</code></td>
<td align="left"><code>th:sandbox</code></td>
</tr>
<tr>
<td align="left"><code>th:scheme</code></td>
<td align="left"><code>th:scope</code></td>
<td align="left"><code>th:scrolling</code></td>
</tr>
<tr>
<td align="left"><code>th:size</code></td>
<td align="left"><code>th:sizes</code></td>
<td align="left"><code>th:span</code></td>
</tr>
<tr>
<td align="left"><code>th:spellcheck</code></td>
<td align="left"><code>th:src</code></td>
<td align="left"><code>th:srclang</code></td>
</tr>
<tr>
<td align="left"><code>th:standby</code></td>
<td align="left"><code>th:start</code></td>
<td align="left"><code>th:step</code></td>
</tr>
<tr>
<td align="left"><code>th:style</code></td>
<td align="left"><code>th:summary</code></td>
<td align="left"><code>th:tabindex</code></td>
</tr>
<tr>
<td align="left"><code>th:target</code></td>
<td align="left"><code>th:title</code></td>
<td align="left"><code>th:type</code></td>
</tr>
<tr>
<td align="left"><code>th:usemap</code></td>
<td align="left"><code>th:value</code></td>
<td align="left"><code>th:valuetype</code></td>
</tr>
<tr>
<td align="left"><code>th:vspace</code></td>
<td align="left"><code>th:width</code></td>
<td align="left"><code>th:wrap</code></td>
</tr>
<tr>
<td align="left"><code>th:xmlbase</code></td>
<td align="left"><code>th:xmllang</code></td>
<td align="left"><code>th:xmlspace</code></td>
</tr>
</tbody></table>
<h4 id="c、两个设置属性值的特殊用法"><a href="#c、两个设置属性值的特殊用法" class="headerlink" title="c、两个设置属性值的特殊用法"></a>c、两个设置属性值的特殊用法</h4><h5 id="th-alt-title"><a href="#th-alt-title" class="headerlink" title="th:alt-title"></a><em>th:alt-title</em></h5><blockquote>
<p>将会设置 <code>alt</code> 和 <code>title</code> .</p>
</blockquote>
<h5 id="th-lang-xmllang"><a href="#th-lang-xmllang" class="headerlink" title="th:lang-xmllang"></a><em>th:lang-xmllang</em></h5><blockquote>
<p>将会设置 <code>lang</code> 和 <code>xmllang</code> .</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"../../images/gtvglogo.png"</span> </span></span><br><span class="line"><span class="tag">     <span class="attr">th:attr</span>=<span class="string">"src=@&#123;/images/gtvglogo.png&#125;,title=#&#123;logo&#125;,alt=#&#123;logo&#125;"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">等价于 :</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"../../images/gtvglogo.png"</span> </span></span><br><span class="line"><span class="tag">     <span class="attr">th:src</span>=<span class="string">"@&#123;/images/gtvglogo.png&#125;"</span> <span class="attr">th:title</span>=<span class="string">"#&#123;logo&#125;"</span> <span class="attr">th:alt</span>=<span class="string">"#&#123;logo&#125;"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">等价于 :</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"../../images/gtvglogo.png"</span> </span></span><br><span class="line"><span class="tag">     <span class="attr">th:src</span>=<span class="string">"@&#123;/images/gtvglogo.png&#125;"</span> <span class="attr">th:alt-title</span>=<span class="string">"#&#123;logo&#125;"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="d、在原有属性值上-附加-前缀"><a href="#d、在原有属性值上-附加-前缀" class="headerlink" title="d、在原有属性值上 附加 / 前缀"></a>d、在原有属性值上 <em>附加 / 前缀</em></h4><h5 id="通用-附加-前缀"><a href="#通用-附加-前缀" class="headerlink" title="通用 附加 / 前缀"></a>通用 <em>附加 / 前缀</em></h5><blockquote>
<p><code>th:attrappend</code> 和 <code>th:attrprepend</code></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">其中 cssStyle 变量取值为 : warning</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Do it!"</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">th:attrappend</span>=<span class="string">"class=$&#123;' ' + cssStyle&#125;"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">结果 :</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Do it!"</span> <span class="attr">class</span>=<span class="string">"btn warning"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="特殊的-附加-前缀"><a href="#特殊的-附加-前缀" class="headerlink" title="特殊的 附加 / 前缀"></a>特殊的 <em>附加 / 前缀</em></h5><blockquote>
<p><code>th:classappend</code> 和 <code>th:styleappend</code></p>
<p>向 html 元素添加 CSS 类 或 样式片段 , 而不会覆盖原有的值 .</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"prod : $&#123;prods&#125;"</span> <span class="attr">class</span>=<span class="string">"row"</span> <span class="attr">th:classappend</span>=<span class="string">"$&#123;prodStat.odd&#125;? 'odd'"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="e、布尔属性"><a href="#e、布尔属性" class="headerlink" title="e、布尔属性"></a>e、布尔属性</h4><blockquote>
<p>HTML 具有布尔属性的概念，即没有值的属性，该属性存在即表示其值为 “true”。在 XHTML 中，这些属性仅取一个值，即它本身 。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTML --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"option2"</span> <span class="attr">checked</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- XHTML --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"option1"</span> <span class="attr">checked</span>=<span class="string">"checked"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以通过评估条件来设置这些属性，因此，如果评估为 true，则该属性将设置为其固定值；如果评估为false，则将不设置该属性：</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">当 user.active 取值为 true checked 属性将会被设置 , 该单选框会被选中</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"active"</span> <span class="attr">th:checked</span>=<span class="string">"$&#123;user.active&#125;"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>其余的布尔属性 :</p>
<table>
<thead>
<tr>
<th><code>th:async</code></th>
<th><code>th:autofocus</code></th>
<th><code>th:autoplay</code></th>
</tr>
</thead>
<tbody><tr>
<td><code>th:checked</code></td>
<td><code>th:controls</code></td>
<td><code>th:declare</code></td>
</tr>
<tr>
<td><code>th:default</code></td>
<td><code>th:defer</code></td>
<td><code>th:disabled</code></td>
</tr>
<tr>
<td><code>th:formnovalidate</code></td>
<td><code>th:hidden</code></td>
<td><code>th:ismap</code></td>
</tr>
<tr>
<td><code>th:loop</code></td>
<td><code>th:multiple</code></td>
<td><code>th:novalidate</code></td>
</tr>
<tr>
<td><code>th:nowrap</code></td>
<td><code>th:open</code></td>
<td><code>th:pubdate</code></td>
</tr>
<tr>
<td><code>th:readonly</code></td>
<td><code>th:required</code></td>
<td><code>th:reversed</code></td>
</tr>
<tr>
<td><code>th:scoped</code></td>
<td><code>th:seamless</code></td>
<td><code>th:selected</code></td>
</tr>
</tbody></table>
<h4 id="f、设置自定义属性及其值"><a href="#f、设置自定义属性及其值" class="headerlink" title="f、设置自定义属性及其值"></a>f、设置自定义属性及其值</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:whatever</span>=<span class="string">"$&#123;user.name&#125;"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">whatever</span>=<span class="string">"John Apricot"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="4、迭代"><a href="#4、迭代" class="headerlink" title="4、迭代"></a>4、迭代</h3><h4 id="a、迭代基础-th-each-quot-quot"><a href="#a、迭代基础-th-each-quot-quot" class="headerlink" title="a、迭代基础            th:each=&quot;&quot;"></a>a、迭代基础            <code>th:each=&quot;&quot;</code></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>NAME<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>PRICE<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>IN STOCK<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"prod : $&#123;prods&#125;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.name&#125;"</span>&gt;</span>Onions<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.price&#125;"</span>&gt;</span>2.41<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.inStock&#125;? #&#123;true&#125; : #&#123;false&#125;"</span>&gt;</span>yes<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="b、可迭代变量"><a href="#b、可迭代变量" class="headerlink" title="b、可迭代变量"></a>b、可迭代变量</h4><blockquote>
<ul>
<li><p>任何实现 <code>java.util.Iterable</code> 的对象</p>
</li>
<li><p>任何实现 <code>java.util.Enumeration</code> 的对象</p>
</li>
<li><p>任何实现 <code>java.util.Map</code> 的对象</p>
</li>
<li><p>任何实现 <code>java.util.List</code> 的对象</p>
</li>
<li><p>任何其他对象都将被视为包含该对象本身的单值列表</p>
</li>
</ul>
</blockquote>
<h4 id="c、迭代状态变量"><a href="#c、迭代状态变量" class="headerlink" title="c、迭代状态变量"></a>c、迭代状态变量</h4><blockquote>
<p>当使用 <code>th:each</code> 时，Thymeleaf 提供了一种可用于跟踪迭代状态的机制 : 状态变量</p>
</blockquote>
<h5 id="显示定义状态变量"><a href="#显示定义状态变量" class="headerlink" title="显示定义状态变量"></a>显示定义状态变量</h5><p>在 <code>th:each</code> 属性中定义状态变量（ 在此示例中为 <code>iterStat</code> ），方法是在 <code>iter</code> 变量本身之后写入名称，并用逗号分隔 。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>NAME<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>PRICE<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>IN STOCK<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"prod,iterStat : $&#123;prods&#125;"</span> <span class="attr">th:class</span>=<span class="string">"$&#123;iterStat.odd&#125;? 'odd'"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.name&#125;"</span>&gt;</span>Onions<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.price&#125;"</span>&gt;</span>2.41<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.inStock&#125;? #&#123;true&#125; : #&#123;false&#125;"</span>&gt;</span>yes<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="自动定义状态变量"><a href="#自动定义状态变量" class="headerlink" title="自动定义状态变量"></a>自动定义状态变量</h5><p>如果没有显式地设置一个状态变量，Thymeleaf 会通过在迭代变量的名字后面加上后缀来自动创建一个状态变量 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>NAME<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>PRICE<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>IN STOCK<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"prod : $&#123;prods&#125;"</span> <span class="attr">th:class</span>=<span class="string">"$&#123;prodStat.odd&#125;? 'odd'"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.name&#125;"</span>&gt;</span>Onions<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.price&#125;"</span>&gt;</span>2.41<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.inStock&#125;? #&#123;true&#125; : #&#123;false&#125;"</span>&gt;</span>yes<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="状态变量包含的数据"><a href="#状态变量包含的数据" class="headerlink" title="状态变量包含的数据 :"></a>状态变量包含的数据 :</h5><blockquote>
<ul>
<li>当前的迭代索引，从 0 开始 。这是 <code>index</code> 属性 。</li>
<li>当前的迭代索引，从 1 开始 。这是 <code>count</code> 属性 。</li>
<li>迭代变量中元素的总数 。这是 <code>size</code> 属性 。</li>
<li>每次迭代的 iter 变量 。这是 <code>current</code> 属性 。</li>
<li>当前迭代是偶数还是奇数 。这些是 <code>even / odd</code> 布尔属性 。</li>
<li>当前迭代是否是第一个 。这是 <code>first</code> 布尔属性 。</li>
<li>当前迭代是否为最后一个 。这是 <code>last</code> 布尔属性 。</li>
</ul>
</blockquote>
<h4 id="d、通过延迟检索数据进行优化"><a href="#d、通过延迟检索数据进行优化" class="headerlink" title="d、通过延迟检索数据进行优化"></a>d、通过延迟检索数据进行优化</h4><h3 id="5、条件表达式"><a href="#5、条件表达式" class="headerlink" title="5、条件表达式"></a>5、条件表达式</h3><h4 id="a、简单条件句-th-if-和-th-unless"><a href="#a、简单条件句-th-if-和-th-unless" class="headerlink" title="a、简单条件句 : th:if 和 th:unless"></a>a、简单条件句 : <code>th:if</code> 和 <code>th:unless</code></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">当 #lists.isEmpty(prod.comments) 取值为 true , </span><br><span class="line">则 $&#123;not #lists.isEmpty(prod.comments)&#125; 取值为 false , 链接将不显示</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"comments.html"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">th:href</span>=<span class="string">"@&#123;/product/comments(prodId=$&#123;prod.id&#125;)&#125;"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">th:if</span>=<span class="string">"$&#123;not #lists.isEmpty(prod.comments)&#125;"</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span>  not 为 OGNL 表达式</span><br><span class="line"></span><br><span class="line">等价于 :</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"comments.html"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">th:href</span>=<span class="string">"@&#123;/comments(prodId=$&#123;prod.id&#125;)&#125;"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">th:unless</span>=<span class="string">"$&#123;#lists.isEmpty(prod.comments)&#125;"</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>th:if=&quot;value&quot;</code> 和 <code>th:unless=&quot;value&quot;</code> 对 value 计算为 true :</p>
<ul>
<li>value 不为 NULL<ul>
<li>value 为数字且非 0</li>
<li>value 为 char 且非 0</li>
<li>value 是 String 且非 “false” , “off” , “no”</li>
<li>value 不是 boolean , 数字 , char , String</li>
</ul>
</li>
<li>value 为 NULL<ul>
<li>计算为 false</li>
</ul>
</li>
</ul>
<h4 id="b、th-switch"><a href="#b、th-switch" class="headerlink" title="b、th:switch"></a>b、<code>th:switch</code></h4><p>只要将一个 <code>th:case</code> 属性评估为 true , 就将 <code>switch</code> 上下文中的所有其他 <code>th:case</code> 属性评估为 false</p>
<p>默认选项指定为 : <code>th:case = “*”</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:switch</span>=<span class="string">"$&#123;user.role&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"'admin'"</span>&gt;</span>User is an administrator<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"#&#123;roles.manager&#125;"</span>&gt;</span>User is a manager<span class="tag">&lt;/<span class="name">p</span>&gt;</span>			</span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"*"</span>&gt;</span>User is some other thing<span class="tag">&lt;/<span class="name">p</span>&gt;</span>					默认选项</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="6、模板片段布局"><a href="#6、模板片段布局" class="headerlink" title="6、模板片段布局"></a>6、模板片段布局</h3><h4 id="a、定义模板片段-th-fragment"><a href="#a、定义模板片段-th-fragment" class="headerlink" title="a、定义模板片段            th:fragment"></a>a、定义模板片段            <code>th:fragment</code></h4><p>此处的 html 文件名设为 footer.html , 后续有用 .</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:fragment</span>=<span class="string">"copy"</span>&gt;</span></span><br><span class="line">      <span class="symbol">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="b、引用模板片段-th-insert-或-th-replace-或-th-include-3-0已不推荐使用"><a href="#b、引用模板片段-th-insert-或-th-replace-或-th-include-3-0已不推荐使用" class="headerlink" title="b、引用模板片段            th:insert 或 th:replace 或 th:include(3.0已不推荐使用)"></a>b、引用模板片段            <code>th:insert</code> 或 <code>th:replace</code> 或 <code>th:include</code>(3.0已不推荐使用)</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">"~&#123;footer :: copy&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>~{ }</code> 需要的是一个模板片段表达式 , <code>~{ }</code> 可省 , 上述代码可写为 :</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">"footer :: copy"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="c、引用模板片段的表达式语法"><a href="#c、引用模板片段的表达式语法" class="headerlink" title="c、引用模板片段的表达式语法"></a>c、引用模板片段的表达式语法</h4><blockquote>
<ul>
<li><code>〜{templatename :: selector}</code> 表示引用名为 <code>templatename</code> 的模板指定的标记选择器所产生的片段。 请注意，选择器只能是片段名称，因此可以指定诸如 <code>〜{templatename :: fragmentname}</code> 之类的简单名称，例如上面的 <code>〜{footer :: copy}</code> 。</li>
<li><code>〜{templatename}</code> 表示引用名为 <code>templatename</code> 的完整模板 。</li>
<li><code>〜{:: selector}</code> 或 <code>〜{this :: selector}</code> 插入来自同一模板的片段，匹配选择器。如果在出现表达式的模板上没有找到，则模板调用 ( insertions ) 堆栈将遍历到最初处理的模板(根) ，直到选择器在某个级别匹配 。</li>
</ul>
</blockquote>
<h4 id="d、引用模板片段-without-th-fragment"><a href="#d、引用模板片段-without-th-fragment" class="headerlink" title="d、引用模板片段 without th:fragment"></a>d、引用模板片段 without <code>th:fragment</code></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"copy-section"</span>&gt;</span></span><br><span class="line">  <span class="symbol">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">在这里通过了 id 引用了 footer.html 中的一段代码片段</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">"~&#123;footer :: #copy-section&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="e、th-insert-th-replace-th-include-的区别"><a href="#e、th-insert-th-replace-th-include-的区别" class="headerlink" title="e、th:insert  th:replace  th:include 的区别 :"></a>e、<code>th:insert</code>  <code>th:replace</code>  <code>th:include</code> 的区别 :</h4><ul>
<li><code>th:insert</code> 将片段作为标签的主体插入 .</li>
<li><code>th:replace</code> 将标签替换为指定的片段 .</li>
<li><code>th:include</code> 与 <code>th:insert</code> 类似 , 但是不插入片段，而是仅插入该片段的内容 .</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">模板 :</span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">th:fragment</span>=<span class="string">"copy"</span>&gt;</span></span><br><span class="line">  <span class="symbol">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery</span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">引入模板 :</span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">"footer :: copy"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"footer :: copy"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:include</span>=<span class="string">"footer :: copy"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">效果 :</span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">      <span class="symbol">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery</span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="symbol">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery</span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="symbol">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="f、带参数的模板片段"><a href="#f、带参数的模板片段" class="headerlink" title="f、带参数的模板片段"></a>f、带参数的模板片段</h4><p>定义带参数的模板片段 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:fragment</span>=<span class="string">"frag (onevar,twovar)"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;onevar&#125; + ' - ' + $&#123;twovar&#125;"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>引用带参数的模板片段 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"::frag ($&#123;value1&#125;,$&#123;value2&#125;)"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"::frag (onevar=$&#123;value1&#125;,twovar=$&#123;value2&#125;)"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">或</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"::frag (twovar=$&#123;value2&#125;,onevar=$&#123;value1&#125;)"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>即便模板片段没有定义参数 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:fragment</span>=<span class="string">"frag"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>仍可以使用以下语法调用此片段 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"::frag (onevar=$&#123;value1&#125;,twovar=$&#123;value2&#125;)"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">这相当于 : th:replace 和 th:with</span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"::frag"</span> <span class="attr">th:with</span>=<span class="string">"onevar=$&#123;value1&#125;,twovar=$&#123;value2&#125;"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>th:assert</code> 属性可以指定一个逗号分隔的表达式列表，当表达式计算不为 true 将引发异常 。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:assert</span>=<span class="string">"$&#123;onevar&#125;,($&#123;twovar&#125; != 43)"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">可以很方便的用来验证片段的参数 :</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">header</span> <span class="attr">th:fragment</span>=<span class="string">"contentheader(title)"</span> <span class="attr">th:assert</span>=<span class="string">"$&#123;!#strings.isEmpty(title)&#125;"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="g、灵活的布局-超越单纯的片段插入"><a href="#g、灵活的布局-超越单纯的片段插入" class="headerlink" title="g、灵活的布局: 超越单纯的片段插入"></a>g、灵活的布局: 超越单纯的片段插入</h4><p>注意 : <code>title</code> 和 <code>link</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">th:fragment</span>=<span class="string">"common_header(title,links)"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span> <span class="attr">th:replace</span>=<span class="string">"$&#123;title&#125;"</span>&gt;</span>The awesome application<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Common styles and scripts --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">media</span>=<span class="string">"all"</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/css/awesomeapp.css&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/images/favicon.ico&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">th:src</span>=<span class="string">"@&#123;/sh/scripts/codebase.js&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--/* Per-page placeholder for additional links */--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">th:block</span> <span class="attr">th:replace</span>=<span class="string">"$&#123;links&#125;"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>此处选中了本文件中的 <code>title</code> 和 <code>link</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">th:replace</span>=<span class="string">"base :: common_header(~&#123;::title&#125;,~&#123;::link&#125;)"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Awesome - Main<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/css/bootstrap.min.css&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/themes/smoothness/jquery-ui.css&#125;"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>显示结果 . 原因 : 在引用模板的过程中对模板的 <code>title</code> 和 <code>link</code> 进行了替换 .</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Awesome - Main<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Common styles and scripts --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">media</span>=<span class="string">"all"</span> <span class="attr">href</span>=<span class="string">"/awe/css/awesomeapp.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"/awe/images/favicon.ico"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/awe/sh/scripts/codebase.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/awe/css/bootstrap.min.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/awe/themes/smoothness/jquery-ui.css"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h5 id="使用"><a href="#使用" class="headerlink" title="使用 ~{}"></a>使用 <code>~{}</code></h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">th:replace</span>=<span class="string">"base :: common_header(~&#123;::title&#125;,~&#123;&#125;)"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Awesome - Main<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>结果 : 会将片段中引用 <code>link</code> 的效果清除 .</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Awesome - Main<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Common styles and scripts --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">media</span>=<span class="string">"all"</span> <span class="attr">href</span>=<span class="string">"/awe/css/awesomeapp.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"/awe/images/favicon.ico"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/awe/sh/scripts/codebase.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h5 id="使用无操作"><a href="#使用无操作" class="headerlink" title="使用无操作 _"></a>使用无操作 <code>_</code></h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">th:replace</span>=<span class="string">"base :: common_header(_,~&#123;::link&#125;)"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Awesome - Main<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/css/bootstrap.min.css&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/themes/smoothness/jquery-ui.css&#125;"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>结果 : 对于模板片段的 <code>title</code> 部分不做任何操作 .</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>The awesome application<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Common styles and scripts --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">media</span>=<span class="string">"all"</span> <span class="attr">href</span>=<span class="string">"/awe/css/awesomeapp.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"/awe/images/favicon.ico"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/awe/sh/scripts/codebase.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/awe/css/bootstrap.min.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/awe/themes/smoothness/jquery-ui.css"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h5 id="有条件地插入片段"><a href="#有条件地插入片段" class="headerlink" title="有条件地插入片段"></a>有条件地插入片段</h5><p>例如 : </p>
<p>仅在用户是管理员的情况下才插入片段，否则不插入任何内容（空片段）：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">"$&#123;user.isAdmin()&#125; ? ~&#123;common :: adminhead&#125; : ~&#123;&#125;"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>同样 , 可以在满足条件时插入片段 , 否则 , 不进行修改 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">"$&#123;user.isAdmin()&#125; ? ~&#123;common :: adminhead&#125; : _"</span>&gt;</span></span><br><span class="line">    Welcome [[$&#123;user.name&#125;]], click <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/support&#125;"</span>&gt;</span>here<span class="tag">&lt;/<span class="name">a</span>&gt;</span> for help-desk support.</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>另外，如果我们已经配置了模板解析器，就可以通过使用模板的 <code>checkExistence</code> 标志来检查模板资源是否存在，这样就可以将片段本身的存在作为默认操作中的条件 ：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">&lt;!-- The body of the &lt;div&gt; will be used if the "common :: salutation" fragment does not exist (or is empty). --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">"~&#123;common :: salutation&#125; ?: _"</span>&gt;</span></span><br><span class="line">    Welcome [[$&#123;user.name&#125;]], click <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/support&#125;"</span>&gt;</span>here<span class="tag">&lt;/<span class="name">a</span>&gt;</span> for help-desk support.</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h4 id="h、th-remove"><a href="#h、th-remove" class="headerlink" title="h、th:remove"></a>h、<code>th:remove</code></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>NAME<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>PRICE<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>IN STOCK<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>COMMENTS<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"prod : $&#123;prods&#125;"</span> <span class="attr">th:class</span>=<span class="string">"$&#123;prodStat.odd&#125;? 'odd'"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.name&#125;"</span>&gt;</span>Onions<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.price&#125;"</span>&gt;</span>2.41<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.inStock&#125;? #&#123;true&#125; : #&#123;false&#125;"</span>&gt;</span>yes<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#lists.size(prod.comments)&#125;"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">span</span>&gt;</span> comment/s</span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"comments.html"</span> </span></span><br><span class="line"><span class="tag">         <span class="attr">th:href</span>=<span class="string">"@&#123;/product/comments(prodId=$&#123;prod.id&#125;)&#125;"</span> </span></span><br><span class="line"><span class="tag">         <span class="attr">th:unless</span>=<span class="string">"$&#123;#lists.isEmpty(prod.comments)&#125;"</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">"odd"</span> <span class="attr">th:remove</span>=<span class="string">"all"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Blue Lettuce<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>9.55<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>no<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span> comment/s</span><br><span class="line">    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:remove</span>=<span class="string">"all"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Mild Cinnamon<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>1.99<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>yes<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>3<span class="tag">&lt;/<span class="name">span</span>&gt;</span> comment/s</span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"comments.html"</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>显示结果 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>NAME<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>PRICE<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>IN STOCK<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>COMMENTS<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Fresh Sweet Basil<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>4.99<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>yes<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span> comment/s</span><br><span class="line">    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">"odd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Italian Tomato<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>1.25<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>no<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>2<span class="tag">&lt;/<span class="name">span</span>&gt;</span> comment/s</span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/gtvg/product/comments?prodId=2"</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Yellow Bell Pepper<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>2.50<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>yes<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span> comment/s</span><br><span class="line">    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">"odd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Old Cheddar<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>18.75<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>yes<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span> comment/s</span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/gtvg/product/comments?prodId=4"</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>th:remove=&quot;&quot;</code> 的不同模式 :</p>
<ul>
<li><code>all</code> ：删除包含标签及其所有子标签 。</li>
<li><code>body</code> ：请勿删除包含标签，而是删除其所有子标签 。</li>
<li><code>tag</code> ：删除包含的标签，但不要删除其子标签 。</li>
<li><code>all-but-first</code> ：除第一个标签外，删除包含标签的所有子标签 。</li>
<li><code>none</code> ：什么都不做。 该值对于动态评估很有用 。</li>
</ul>
</blockquote>
<p><code>th:remove</code> 属性可以采用任何 Thymeleaf 标准表达式，只要它返回允许的 String 值之一（ <code>all</code> , <code>tag</code> , <code>body</code>, <code>all-but-first</code> or <code>none</code> ）。这意味着 <code>remove</code> 可以是有条件的 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/something"</span> <span class="attr">th:remove</span>=<span class="string">"$&#123;condition&#125;? tag : none"</span>&gt;</span>Link text not to be removed<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">th:remove 认为 null 与 none 是一样的, 所以这两段代码效果相同</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/something"</span> <span class="attr">th:remove</span>=<span class="string">"$&#123;condition&#125;? tag"</span>&gt;</span>Link text not to be removed<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">在这里如果 $&#123;condition&#125; 为 false 将 返回 null , 因此不会执行任何操作</span><br></pre></td></tr></table></figure>

<h3 id="7、局部变量"><a href="#7、局部变量" class="headerlink" title="7、局部变量"></a>7、局部变量</h3><p>Thymeleaf 将局部变量称为 : 为模板的特定片段定义的变量，并且只能在该片段中进行计算 。</p>
<p>如下所示 , 就是一个 prod 局部变量 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"prod : $&#123;prods&#125;"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Thymeleaf 提供了一种不用迭代就可以声明局部变量的方法，即 : 使用 <code>th:with</code> 属性，它的语法类似于属性值赋值 :</p>
<p>当 <code>th:with</code> 被处理时，<code>firstPer</code> 变量被创建为一个局部变量，并添加到来自上下文的变量映射中，这样它就可以与上下文中声明的任何其他变量一起进行计算，但只能在包含 div 标记的边界内进行 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:with</span>=<span class="string">"firstPer=$&#123;persons[0]&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    The name of the first person is <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;firstPer.name&#125;"</span>&gt;</span>Julius Caesar<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.</span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>可以使用多重赋值语法同时定义多个变量 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:with</span>=<span class="string">"firstPer=$&#123;persons[0]&#125;,secondPer=$&#123;persons[1]&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    The name of the first person is <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;firstPer.name&#125;"</span>&gt;</span>Julius Caesar<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.</span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    But the name of the second person is </span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;secondPer.name&#125;"</span>&gt;</span>Marcus Antonius<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.</span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>th:with</code> 允许重用在同一属性中定义的变量 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:with</span>=<span class="string">"company=$&#123;user.company + ' Co.'&#125;,account=$&#123;accounts[company]&#125;"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="8、属性优先级"><a href="#8、属性优先级" class="headerlink" title="8、属性优先级"></a>8、属性优先级</h3><table>
<thead>
<tr>
<th align="left">Order</th>
<th align="left">Feature</th>
<th align="left">Attributes</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">引入片段</td>
<td align="left"><code>th:insert</code> <br /><code>th:replace</code></td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">迭代</td>
<td align="left"><code>th:each</code></td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">条件判断</td>
<td align="left"><code>th:if</code> <br /><code>th:unless</code> <br /><code>th:switch</code> <br /><code>th:case</code></td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">局部变量定义</td>
<td align="left"><code>th:object</code> <br /><code>th:with</code></td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">一般属性修改</td>
<td align="left"><code>th:attr</code> <br /><code>th:attrprepend</code> <br /><code>th:attrappend</code></td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">特定属性修改</td>
<td align="left"><code>th:value</code> <br /><code>th:href</code> <br /><code>th:src</code> <br /><code>...</code></td>
</tr>
<tr>
<td align="left">7</td>
<td align="left">文本(标签体改造)</td>
<td align="left"><code>th:text</code> <br /><code>th:utext</code></td>
</tr>
<tr>
<td align="left">8</td>
<td align="left">片段规范</td>
<td align="left"><code>th:fragment</code></td>
</tr>
<tr>
<td align="left">9</td>
<td align="left">片段去除</td>
<td align="left"><code>th:remove</code></td>
</tr>
</tbody></table>
<h3 id="9、注释"><a href="#9、注释" class="headerlink" title="9、注释"></a>9、注释</h3><h4 id="a、标准-HTML-XML-注释"><a href="#a、标准-HTML-XML-注释" class="headerlink" title="a、标准 HTML / XML 注释"></a>a、标准 HTML / XML 注释</h4><p>标准的 HTML / XML 注释 <code>&lt;!- ... -&gt;</code> 可以在 Thymeleaf 模板中的任何位置使用。这些注释中的所有内容都不会被 Thymeleaf 处理，并将逐字复制到结果中 ：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- User info follows --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:text</span>=<span class="string">"$&#123;...&#125;"</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="b、Thymeleaf-解析器级注释块"><a href="#b、Thymeleaf-解析器级注释块" class="headerlink" title="b、Thymeleaf 解析器级注释块"></a>b、Thymeleaf 解析器级注释块</h4><p>解析器级别的注释块是在 Thymeleaf 解析模板时将简单地从模板中删除的代码。如下 :</p>
<p>Thymeleaf 将删除 <code>&lt;!--/*</code> 和 <code>*/--&gt;</code> 之间的所有内容，因此模板被静态打开时，这些注释块中的代码仍会被正常显示，而在 Thymeleaf 动态处理模板时这些代码将被删除 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--/* 此代码将在 Thymeleaf 解析时删除 ！*/--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--/*--&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">     您只有在 Thymeleaf 处理我之前才能看到我 ！</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--*/--&gt;</span></span><br></pre></td></tr></table></figure>

<p>这对于有许多 <code>&lt;tr&gt;</code> 的原型表来说可能非常方便，例如 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"x : $&#123;xs&#125;"</span>&gt;</span></span><br><span class="line">     ...</span><br><span class="line">   <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--/*--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">     ...</span><br><span class="line">   <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">     ...</span><br><span class="line">   <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--*/--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="c、原型注释块"><a href="#c、原型注释块" class="headerlink" title="c、原型注释块"></a>c、原型注释块</h4><p>Thymeleaf 允许在模板静态打开 ( 即作为原型 ) 时将特殊注释块定义为注释，但在执行模板时将其视为标准标记 。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>hello!<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--/*/</span></span><br><span class="line"><span class="comment">  &lt;div th:text="$&#123;...&#125;"&gt;</span></span><br><span class="line"><span class="comment">    ...</span></span><br><span class="line"><span class="comment">  &lt;/div&gt;</span></span><br><span class="line"><span class="comment">/*/--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>goodbye!<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Thymeleaf 的解析系统只会删除 <code>&lt;!--/*/</code> 和 <code>/*/--&gt;</code>标记，但不会删除其内容，因此不会对其进行注释。 所以当执行模板时，Thymeleaf 实际上会看到这个 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>hello!<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:text</span>=<span class="string">"$&#123;...&#125;"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>goodbye!<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="d、合成标签-th-block"><a href="#d、合成标签-th-block" class="headerlink" title="d、合成标签 th:block"></a>d、合成标签 <code>th:block</code></h4><p>Thymeleaf 唯一包含在“标准方言”中的元素处理器 ( 非属性 ) 是 <code>th:block</code> 。</p>
<p><code>th:block</code> 仅仅是一个属性容器，它允许模板开发人员指定他们想要的任何属性。 Thymeleaf 将执行这些属性，然后只是使块消失，而不是其内容消失。</p>
<p>例如，当创建对每个元素需要一个以上 tr 的迭代表时，它可以这样使用 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">th:block</span> <span class="attr">th:each</span>=<span class="string">"user : $&#123;users&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.login&#125;"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.name&#125;"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">"2"</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.address&#125;"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">th:block</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当与原型注释块结合使用时，更加优雅 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--/*/ &lt;th:block th:each="user : $&#123;users&#125;"&gt; /*/--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.login&#125;"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.name&#125;"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">"2"</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.address&#125;"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--/*/ &lt;/th:block&gt; /*/--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>此时 , 该代码既保证了静态打开时能作为合格的 HTML 解析 , 亦可以被 Thymeleaf 正常解析展示 .</p>
<h3 id="10、内联"><a href="#10、内联" class="headerlink" title="10、内联"></a>10、内联</h3><h4 id="a、表达式内联"><a href="#a、表达式内联" class="headerlink" title="a、表达式内联"></a>a、表达式内联</h4><p>我们通常更喜欢这样写代码 : </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello, [[$&#123;session.user.name&#125;]]!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>而不是这样 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello, <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;session.user.name&#125;"</span>&gt;</span>Sebastian<span class="tag">&lt;/<span class="name">span</span>&gt;</span>!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>[[...]]</code> 或 <code>[(...)]</code> 之间的表达式在 Thymeleaf 中被视为内联表达式，在其中我们可以使用在 <code>th:text</code> 或 <code>th:utext</code> 属性中也有效的任何类型的表达式 。</p>
<p>注意，<code>[[...]]</code> 对应于 <code>th:text</code>（ 即结果将被转义为 HTML ），<code>[(...)]</code> 对应于 <code>th:utext</code> 并且将不执行任何 HTML 转义 。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">对于 : </span><br><span class="line">msg = 'This is <span class="tag">&lt;<span class="name">b</span>&gt;</span>great!<span class="tag">&lt;/<span class="name">b</span>&gt;</span>'</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The message is "[($&#123;msg&#125;)]"<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The message is "This is <span class="tag">&lt;<span class="name">b</span>&gt;</span>great!<span class="tag">&lt;/<span class="name">b</span>&gt;</span>"<span class="tag">&lt;/<span class="name">p</span>&gt;</span>		b 标签没有被转义</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The message is "[[$&#123;msg&#125;]]"<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The message is "This is <span class="symbol">&amp;lt;</span>b<span class="symbol">&amp;gt;</span>great!<span class="symbol">&amp;lt;</span>/b<span class="symbol">&amp;gt;</span>"<span class="tag">&lt;/<span class="name">p</span>&gt;</span>	b 标签被转义</span><br></pre></td></tr></table></figure>

<h5 id="禁用内联"><a href="#禁用内联" class="headerlink" title="禁用内联 :"></a>禁用内联 :</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:inline</span>=<span class="string">"none"</span>&gt;</span>A double array looks like this: [[1, 2, 3], [4, 5]]!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">显示效果 :</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>A double array looks like this: [[1, 2, 3], [4, 5]]!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="b、文本内联"><a href="#b、文本内联" class="headerlink" title="b、文本内联"></a>b、文本内联</h4><p>文本内联与我们刚刚看到的表达式内联功能非常相似，但实际上增加了更多功能。 必须使用 <code>th:inline=“ text”</code> 明确启用它 。</p>
<p>文本内联不仅使我们能够使用与刚才看到的相同的内联表达式，而且实际上处理标记主体的方式就像它们是在TEXT 模板模式下处理的模板一样，这使我们能够执行基于文本的模板逻辑（不仅是输出表达式）。</p>
<h4 id="c、JavaScript-内联"><a href="#c、JavaScript-内联" class="headerlink" title="c、JavaScript 内联"></a>c、JavaScript 内联</h4><p>必须使用 <code>th:inline=&quot;javascript&quot;</code> 命令显式启用此模式 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> username = [[$&#123;session.user.name&#125;]];</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">结果 :</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> username = <span class="string">"Sebastian \"Fruity\" Applejuice"</span>;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>在上面的代码中需要注意的是 :</strong></p>
<p><code>session.user.name</code> 值中的 <code>&quot;</code> 发生了转义，发生这种情况是因为此时输出 <code>${session.user.name}</code> 表达式使用的是双括号表达式 <code>[[${session.user.name}]]</code> 。</p>
<p>当使用 <code>[(${session.user.name})]</code> 时 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> username = [($&#123;session.user.name&#125;)];</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">结果 :</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> username = Sebastian <span class="string">"Fruity"</span> Applejuice;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>&quot;</code> 并没有产生转义 , 而且这是一个错误的 JavaScript 代码。但有时候输出未转义的内容可能正是我们所需要的 。</p>
<h4 id="d、JavaScript-自然模板"><a href="#d、JavaScript-自然模板" class="headerlink" title="d、JavaScript 自然模板"></a>d、JavaScript 自然模板</h4><p>JavaScript 自然模板就是在 JavaScript 注释中包装内联表达式，比如 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> username = <span class="comment">/*[[$&#123;session.user.name&#125;]]*/</span> <span class="string">"Gertrud Kiwifruit"</span>;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Thymeleaf 会忽略注释之后和分号之前写的所有内容 ( 在本例中是 “Gertrud Kiwifruit” ) , 所以显示结果为 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> username = <span class="string">"Sebastian \"Fruity\" Applejuice"</span>;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>而且 , 观察原始代码 , 会发现 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> username = <span class="comment">/*[[$&#123;session.user.name&#125;]]*/</span> <span class="string">"Gertrud Kiwifruit"</span>;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>该代码是正常的 JavaScript 代码 , 其静态打开时也能正常显示 .</p>
<h4 id="e、CSS-内联"><a href="#e、CSS-内联" class="headerlink" title="e、CSS 内联"></a>e、CSS 内联</h4><p>必须使用 <code>th:inline=&quot;css&quot;</code> 命令显式启用此模式 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">classname = 'main elems'</span><br><span class="line">align = 'center'</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">th:inline</span>=<span class="string">"css"</span>&gt;</span></span><br><span class="line"><span class="css">    .<span class="selector-attr">[[$&#123;classname&#125;]</span>] &#123;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">text-align</span>: <span class="selector-attr">[[$&#123;align&#125;]</span>];</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">th:inline</span>=<span class="string">"css"</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.main</span>\ <span class="selector-tag">elems</span> &#123;</span></span><br><span class="line">      text-align: center;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="f、CSS-自然模板"><a href="#f、CSS-自然模板" class="headerlink" title="f、CSS 自然模板"></a>f、CSS 自然模板</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">th:inline</span>=<span class="string">"css"</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.main</span>\ <span class="selector-tag">elems</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">text-align</span>: <span class="comment">/*[[$&#123;align&#125;]]*/</span> <span class="selector-tag">left</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="11、文本模板模式"><a href="#11、文本模板模式" class="headerlink" title="11、文本模板模式"></a>11、文本模板模式</h3><h4 id="a、文本语法"><a href="#a、文本语法" class="headerlink" title="a、文本语法"></a>a、文本语法</h4><p>Thymeleaf 模板模式中有三种被认为是文本模式 : <code>Text</code> , <code>Javascript</code> 和 <code>css</code> 。这将它们与标记模板模式 ( <code>HTML</code> 和 <code>XML</code> ) 区别开来 .</p>
<p>文本模板模式和标记模式之间的关键区别在于，在文本模板中没有使用标记插入属性的逻辑，因此我们必须依赖其他机制 .</p>
<p>这些机制的第一个也是最基本的是使用内联，内联语法是在文本模板模式下输出表达式结果的最简单方法，因此，如下是文本电子邮件的完美有效的模板 .</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Dear [($&#123;name&#125;)],</span><br><span class="line"></span><br><span class="line">Please find attached the results of the report you requested</span><br><span class="line">with name "[($&#123;report.name&#125;)]".</span><br><span class="line"></span><br><span class="line">Sincerely,</span><br><span class="line">The Reporter.</span><br></pre></td></tr></table></figure>

<p>即使没有标记，上面的示例也是一个完整有效的 Thymeleaf 模板，可以在 TEXT 模板模式下执行。</p>
<p>但是为了使用比输出表达式更复杂的逻辑，我们需要一种新的非基于标记的语法 :</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[#</span><span class="bash"> th:each=<span class="string">"item : <span class="variable">$&#123;items&#125;</span>"</span>]</span></span><br><span class="line">  - [($&#123;item&#125;)]</span><br><span class="line">[/]</span><br></pre></td></tr></table></figure>

<p>上面的实际上是下面冗长写法的压缩版本 :</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[#</span><span class="bash">th:block th:each=<span class="string">"item : <span class="variable">$&#123;items&#125;</span>"</span>]</span></span><br><span class="line">  - [#th:block th:utext="$&#123;item&#125;" /]</span><br><span class="line">[/th:block]</span><br></pre></td></tr></table></figure>

<p>请注意，此新语法是如何基于声明为 <code>[#element ...]</code> 而不是 <code>&lt;element ...&gt;</code> 的元素（ 即可处理标签 ）的。 元素像 <code>[#element ...]</code> 一样打开，而像 <code>[/ element]</code> 一样关闭，并且可以通过使用 <code>/</code> 来声明独立标签，其方式几乎等同于 XML 标签：<code>[#element ... /]</code> 。</p>
<p>标准方言仅包含用于以下元素之一的处理器：已知的 <code>th：block</code>，尽管我们可以在方言中对此进行扩展并以通常的方式创建新元素。 另外，<code>th：block</code> 元素（ <code>[#th：block ...] ... [/ th：block]</code> ）可以缩写为空字符串（ <code>[＃...] ... [/]</code> ） ，因此上述代码块实际上等效于 ：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[#</span><span class="bash"> th:each=<span class="string">"item : <span class="variable">$&#123;items&#125;</span>"</span>]</span></span><br><span class="line">  - [# th:utext="$&#123;item&#125;" /]</span><br><span class="line">[/]</span><br></pre></td></tr></table></figure>

<p>鉴于 <code>[＃th：utext =“ $ {item}” /]</code> 等效于内联的未转义表达式，我们可以使用它来减少代码量 。因此，上述代码可写为 ：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[#</span><span class="bash"> th:each=<span class="string">"item : <span class="variable">$&#123;items&#125;</span>"</span>]</span></span><br><span class="line">  - [($&#123;item&#125;)]</span><br><span class="line">[/]</span><br></pre></td></tr></table></figure>

<p>TEXT 模板（ 纯文本电子邮件模板 ）的更完整示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Dear [($&#123;customer.name&#125;)],</span><br><span class="line"></span><br><span class="line">This is the list of our products:</span><br><span class="line"></span><br><span class="line"><span class="meta">[#</span><span class="bash"> th:each=<span class="string">"prod : <span class="variable">$&#123;products&#125;</span>"</span>]</span></span><br><span class="line">   - [($&#123;prod.name&#125;)]. Price: [($&#123;prod.price&#125;)] EUR/kg</span><br><span class="line">[/]</span><br><span class="line"></span><br><span class="line">Thanks,</span><br><span class="line">  The Thymeleaf Shop</span><br></pre></td></tr></table></figure>

<p>执行后，结果可能是这样的 :</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Dear Mary Ann Blueberry,</span><br><span class="line"></span><br><span class="line">This is the list of our products:</span><br><span class="line"></span><br><span class="line">   - Apricots. Price: 1.12 EUR/kg</span><br><span class="line">   - Bananas. Price: 1.78 EUR/kg</span><br><span class="line">   - Apples. Price: 0.85 EUR/kg</span><br><span class="line">   - Watermelon. Price: 1.91 EUR/kg</span><br><span class="line"></span><br><span class="line">Thanks,</span><br><span class="line">  The Thymeleaf Shop</span><br></pre></td></tr></table></figure>

<p>JavaScript 使用文本模式 :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> greeter = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> username = [[$&#123;session.user.name&#125;]];</span><br><span class="line"></span><br><span class="line">    [# th:each="salut : $&#123;salutations&#125;"]    </span><br><span class="line">      alert([[$&#123;salut&#125;]] + <span class="string">" "</span> + username);</span><br><span class="line">    [<span class="regexp">/]</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure>

<p>执行后，结果可能是这样的 :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> greeter = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> username = <span class="string">"Bertrand \"Crunchy\" Pear"</span>;</span><br><span class="line"></span><br><span class="line">      alert(<span class="string">"Hello"</span> + <span class="string">" "</span> + username);</span><br><span class="line">      alert(<span class="string">"Ol\u00E1"</span> + <span class="string">" "</span> + username);</span><br><span class="line">      alert(<span class="string">"Hola"</span> + <span class="string">" "</span> + username);</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="等等"><a href="#等等" class="headerlink" title="等等 . . ."></a>等等 . . .</h4><h2 id="二、FreeMarker"><a href="#二、FreeMarker" class="headerlink" title="二、FreeMarker"></a>二、FreeMarker</h2>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://yoursite.com" rel="external nofollow noreferrer">愆凡</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://yoursite.com/2019/09/22/%E3%80%90%20%E5%BF%85%E5%A4%87%E6%8A%80%E6%9C%AF%2006%20%E3%80%91%EF%BC%9A%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/">http://yoursite.com/2019/09/22/%E3%80%90%20%E5%BF%85%E5%A4%87%E6%8A%80%E6%9C%AF%2006%20%E3%80%91%EF%BC%9A%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="http://yoursite.com" target="_blank">愆凡</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            
        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2019/09/22/%E3%80%90%20Spring%20%E7%B3%BB%E5%88%97%2003%20%E3%80%91%EF%BC%9ASpring%20Data/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/6.png" class="responsive-img" alt="【 Spring 系列 03 】：Spring Data">
                        
                        <span class="card-title">【 Spring 系列 03 】：Spring Data</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Spring Data

Spring Data 项目是从 2010 年发展起来的，从创立之初 Spring Data 就想提供一个大家熟悉的、一致的、基于 Spring 的数据访问编程模型，同时仍然保留底层数据存储的特殊特性。它可以轻松地
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2019-09-22
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6/" class="post-category">
                                    常用框架
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Spring-%E5%85%A8%E5%AE%B6%E6%A1%B6/">
                        <span class="chip bg-color">Spring 全家桶</span>
                    </a>
                    
                    <a href="/tags/Spring/">
                        <span class="chip bg-color">Spring</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2019/09/21/%E3%80%90%20%E5%BF%85%E5%A4%87%E6%8A%80%E6%9C%AF%2001%20%E3%80%91%EF%BC%9AGit/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/21.jpg" class="responsive-img" alt="【 必备技术 01 】：Git">
                        
                        <span class="card-title">【 必备技术 01 】：Git</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            概念
工作区：

是对项目的某个版本独立提取出来的内容。

暂存区：

是一个文件，保存了下次将要提交的文件列表信息，一般在 Git 仓库目录中。 按照 Git 的术语叫做“索引”，不过一般说法还是叫“暂存区”。

Git 仓库目录：

是
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2019-09-21
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%BF%85%E5%A4%87%E6%8A%80%E6%9C%AF/" class="post-category">
                                    必备技术
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>

    
<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>

    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4, h5, h6'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4, h5, h6').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="http://yoursite.com" target="_blank">愆凡</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">160.8k</span>&nbsp;字
            


            <br>
            <span id="sitetime"></span>

            <div class="BbeiAn-info">
                <a target="_blank" href="http://www.beian.miit.gov.cn/" style="color:#dbdbdb" rel="nofollow">豫ICP备19032957号</a>
                <!--a标签中增加nofollow属性，避免爬虫出站。-->
                &nbsp;|&nbsp;
                <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41012202000302"
                    style="color:#dbdbdb;text-decoration:none;padding-left:30px;background:url(https://blog.notuptoyou.site/medias/beian.png) no-repeat left center"
                    rel="nofollow">豫公网安备41012202000302号</a>
                <!--这里将图标作为了背景，以使得能和后面的文字在同一行-->
            </div>


            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2019";
                    var startMonth = "6";
                    var startDate = "28";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/ZGW-GitHub" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:zgwmail@icloud.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=864127700" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 864127700" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->


    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    
    
    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
