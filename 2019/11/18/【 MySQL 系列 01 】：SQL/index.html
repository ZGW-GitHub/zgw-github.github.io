<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>【 MySQL 系列 01 】：SQL | 愆凡の博客</title><meta name="description" content="【 MySQL 系列 01 】：SQL"><meta name="keywords" content="MySQL"><meta name="author" content="愆凡"><meta name="copyright" content="愆凡"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="【 MySQL 系列 01 】：SQL"><meta name="twitter:description" content="【 MySQL 系列 01 】：SQL"><meta name="twitter:image" content="http://yoursite.com/img/avatar.png"><meta property="og:type" content="article"><meta property="og:title" content="【 MySQL 系列 01 】：SQL"><meta property="og:url" content="http://yoursite.com/2019/11/18/%E3%80%90%20MySQL%20%E7%B3%BB%E5%88%97%2001%20%E3%80%91%EF%BC%9ASQL/"><meta property="og:site_name" content="愆凡の博客"><meta property="og:description" content="【 MySQL 系列 01 】：SQL"><meta property="og:image" content="http://yoursite.com/img/avatar.png"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      now = new Date();
      hour = now.getHours();
      isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://yoursite.com/2019/11/18/%E3%80%90%20MySQL%20%E7%B3%BB%E5%88%97%2001%20%E3%80%91%EF%BC%9ASQL/"><link rel="prev" title="【 Redis 系列 02 】：Redis 多机数据库的实现" href="http://yoursite.com/2019/11/27/%E3%80%90%20Redis%20%E7%B3%BB%E5%88%97%2002%20%E3%80%91%EF%BC%9ARedis%20%E5%A4%9A%E6%9C%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%9E%E7%8E%B0/"><link rel="next" title="【 操作系统 01 】：基础" href="http://yoursite.com/2019/11/14/%E3%80%90%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%2001%20%E3%80%91%EF%BC%9A%E5%9F%BA%E7%A1%80/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://blog.notuptoyou.site","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: false,
  isFontAwesomeV5: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">50</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">14</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">12</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、SQL"><span class="toc-number">1.</span> <span class="toc-text">一、SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-的作用："><span class="toc-number">1.1.</span> <span class="toc-text">SQL 的作用：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-通用语法："><span class="toc-number">1.2.</span> <span class="toc-text">SQL 通用语法：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-语句分类："><span class="toc-number">1.3.</span> <span class="toc-text">SQL 语句分类：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-数据类型："><span class="toc-number">1.4.</span> <span class="toc-text">SQL 数据类型：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#整数"><span class="toc-number">1.4.1.</span> <span class="toc-text">整数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#小数"><span class="toc-number">1.4.2.</span> <span class="toc-text">小数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#字符串"><span class="toc-number">1.4.3.</span> <span class="toc-text">字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#日期"><span class="toc-number">1.4.4.</span> <span class="toc-text">日期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#大二进制"><span class="toc-number">1.4.5.</span> <span class="toc-text">大二进制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#大文本"><span class="toc-number">1.4.6.</span> <span class="toc-text">大文本</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、DDL"><span class="toc-number">2.</span> <span class="toc-text">二、DDL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#操作数据库"><span class="toc-number">2.1.</span> <span class="toc-text">操作数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#创建数据库"><span class="toc-number">2.1.1.</span> <span class="toc-text">创建数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#修改数据库"><span class="toc-number">2.1.2.</span> <span class="toc-text">修改数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#删除数据库"><span class="toc-number">2.1.3.</span> <span class="toc-text">删除数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#查询数据库"><span class="toc-number">2.1.4.</span> <span class="toc-text">查询数据库</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#操作表"><span class="toc-number">2.2.</span> <span class="toc-text">操作表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#创建表"><span class="toc-number">2.2.1.</span> <span class="toc-text">创建表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#复制表"><span class="toc-number">2.2.2.</span> <span class="toc-text">复制表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#修改表"><span class="toc-number">2.2.3.</span> <span class="toc-text">修改表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#删除表"><span class="toc-number">2.2.4.</span> <span class="toc-text">删除表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#查询表"><span class="toc-number">2.2.5.</span> <span class="toc-text">查询表</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、四大约束"><span class="toc-number">3.</span> <span class="toc-text">三、四大约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#主键-primary-key"><span class="toc-number">3.1.</span> <span class="toc-text">主键    primary key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#外键-foreign-key"><span class="toc-number">3.2.</span> <span class="toc-text">外键    foreign key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#唯一-unique"><span class="toc-number">3.3.</span> <span class="toc-text">唯一    unique</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#非空-not-null"><span class="toc-number">3.4.</span> <span class="toc-text">非空    not null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自动增长"><span class="toc-number">3.5.</span> <span class="toc-text">自动增长</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四、DML"><span class="toc-number">4.</span> <span class="toc-text">四、DML</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#增"><span class="toc-number">4.1.</span> <span class="toc-text">增</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删"><span class="toc-number">4.2.</span> <span class="toc-text">删</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#改"><span class="toc-number">4.3.</span> <span class="toc-text">改</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#五、DQL"><span class="toc-number">5.</span> <span class="toc-text">五、DQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基础查询"><span class="toc-number">5.1.</span> <span class="toc-text">基础查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#条件查询"><span class="toc-number">5.2.</span> <span class="toc-text">条件查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#高级查询"><span class="toc-number">5.3.</span> <span class="toc-text">高级查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#排序"><span class="toc-number">5.3.1.</span> <span class="toc-text">排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#聚合函数"><span class="toc-number">5.3.2.</span> <span class="toc-text">聚合函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#分组"><span class="toc-number">5.3.3.</span> <span class="toc-text">分组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#分页"><span class="toc-number">5.3.4.</span> <span class="toc-text">分页</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多表查询"><span class="toc-number">5.4.</span> <span class="toc-text">多表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#笛卡尔积"><span class="toc-number">5.4.1.</span> <span class="toc-text">笛卡尔积</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#等值连接"><span class="toc-number">5.4.2.</span> <span class="toc-text">等值连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#内连接"><span class="toc-number">5.4.3.</span> <span class="toc-text">内连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#外连接"><span class="toc-number">5.4.4.</span> <span class="toc-text">外连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#子查询"><span class="toc-number">5.4.5.</span> <span class="toc-text">子查询</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#六、索引"><span class="toc-number">6.</span> <span class="toc-text">六、索引</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#普通索引-normal"><span class="toc-number">6.1.</span> <span class="toc-text">普通索引    normal</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#唯一索引-unique"><span class="toc-number">6.2.</span> <span class="toc-text">唯一索引    unique</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#空间索引-spatial"><span class="toc-number">6.3.</span> <span class="toc-text">空间索引    spatial</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#全文索引-fulltext"><span class="toc-number">6.4.</span> <span class="toc-text">全文索引    fulltext</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#七、Explain"><span class="toc-number">7.</span> <span class="toc-text">七、Explain</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#八、DCL"><span class="toc-number">8.</span> <span class="toc-text">八、DCL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#用户管理"><span class="toc-number">8.1.</span> <span class="toc-text">用户管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#权限管理"><span class="toc-number">8.2.</span> <span class="toc-text">权限管理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#九、数据库备份-还原"><span class="toc-number">9.</span> <span class="toc-text">九、数据库备份&#x2F;还原</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(/img/post.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">愆凡の博客</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></span></div><div id="post-info"><div id="post-title"><div class="posttitle">【 MySQL 系列 01 】：SQL</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2019-11-18<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2020-03-21</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h2 id="一、SQL"><a href="#一、SQL" class="headerlink" title="一、SQL"></a>一、SQL</h2><blockquote>
<p>Structured Query Language ：结构化查询语言</p>
<p>其实就是定义了操作所有<strong>关系型</strong>数据库的规则。</p>
</blockquote>
<h3 id="SQL-的作用："><a href="#SQL-的作用：" class="headerlink" title="SQL 的作用："></a>SQL 的作用：</h3><ul>
<li>是一种所有关系型数据库的查询规范，不同的关系型数据库都支持。</li>
<li>通用的数据库操作语言，可以用在不同的关系型数据库中。</li>
<li>不同的数据库 SQL 语句有一些区别。</li>
</ul>
<h3 id="SQL-通用语法："><a href="#SQL-通用语法：" class="headerlink" title="SQL 通用语法："></a>SQL 通用语法：</h3><ul>
<li><p>SQL 语句可以单行或多行书写，以分号结尾。</p>
</li>
<li><p>可使用空格和缩进来增强语句的可读性。</p>
</li>
<li><p>MySQL 数据库的 SQL 语句不区分大小写，关键字建议使用大写。</p>
</li>
<li><p>3 种注释：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 单行注释</span><br><span class="line"></span><br><span class="line"># mysql 特有注释</span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line">	多行注释</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure>
</li>
<li><p>登录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p[+密码]</span><br><span class="line">mysql -h[+IP地址] -uroot -p[+连接目标的密码]</span><br><span class="line">mysql --host&#x3D;[+IP地址] --user&#x3D;root --password&#x3D;[+连接目标的密码]</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="SQL-语句分类："><a href="#SQL-语句分类：" class="headerlink" title="SQL 语句分类："></a>SQL 语句分类：</h3><ul>
<li><p><strong>DDL</strong> ( Data Definition Language )            数据定义语言</p>
<p>增删改查 数据库 / 表</p>
</li>
<li><p><strong>DML</strong> ( Data Manipulation Language )            数据操作语言</p>
<p>增删改表中数据，及创建表</p>
</li>
<li><p><strong>DQL</strong> ( Data Query Language )            数据查询语言</p>
<p>查询表中数据</p>
</li>
<li><p><strong>DCL</strong> ( Data Control Language )            数据控制语言</p>
<p>用来定义数据库的访问权限和安全级别，及创建用户</p>
</li>
</ul>
<h3 id="SQL-数据类型："><a href="#SQL-数据类型：" class="headerlink" title="SQL 数据类型："></a>SQL 数据类型：</h3><h4 id="整数"><a href="#整数" class="headerlink" title="整数"></a>整数</h4><ul>
<li><p>tinyint</p>
<p>微整型：很小的整数 ( 1字节 )</p>
</li>
<li><p>smallint</p>
<p>小整型：小的整数 ( 2字节 )</p>
</li>
<li><p>mediumint</p>
<p>中整型：中等长度的整数 ( 3字节 )</p>
</li>
<li><p>int</p>
<p>整型：整数类型 ( 4字节 )</p>
</li>
</ul>
<h4 id="小数"><a href="#小数" class="headerlink" title="小数"></a>小数</h4><ul>
<li><p>float</p>
<p>单精度浮点数，占 4 个字节</p>
</li>
<li><p>double</p>
<p>双精度浮点数，占 8 个字节</p>
</li>
</ul>
<h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><ul>
<li><p>char</p>
<p>固定长度的字符串，无论使用几个字符都占满全部，M 为 0~255 之间的整数</p>
</li>
<li><p>varchar</p>
<p>可变长度的字符串，使用几个字符就占用几个，M 为 0~65535 之间的整数</p>
</li>
</ul>
<h4 id="日期"><a href="#日期" class="headerlink" title="日期"></a>日期</h4><ul>
<li><p>time</p>
<p>表示时间类型</p>
</li>
<li><p>date</p>
<p>表示日期类型。只包含年月日，yyyy-MM-dd</p>
</li>
<li><p>datetime</p>
<p>表示日期和时间类型。包含年月日时分秒，yyyy-MM-dd HH:mm:ss</p>
</li>
<li><p>timestamp</p>
<p>时间戳类型。包含年月日时分秒，yyyy-MM-dd HH:mm:ss此类型数据当将来不给这个字段赋值，或赋值为null，则默认使用当前的系统时间，来自动赋值​</p>
</li>
</ul>
<h4 id="大二进制"><a href="#大二进制" class="headerlink" title="大二进制"></a>大二进制</h4><ul>
<li><p>tinyblob Big Large Object</p>
<p>允许长度 0~255 字节</p>
</li>
<li><p>blob</p>
<p>允许长度 0~65535 字节</p>
</li>
<li><p>mediumblob</p>
<p>允许长度 0~167772150 字节</p>
</li>
<li><p>longblob</p>
<p>允许长度 0~4294967295 字节</p>
</li>
</ul>
<h4 id="大文本"><a href="#大文本" class="headerlink" title="大文本"></a>大文本</h4><ul>
<li><p>tinytext</p>
<p>允许长度 0~255 字节</p>
</li>
<li><p>text</p>
<p>允许长度 0~65535 字节</p>
</li>
<li><p>mediumtext</p>
<p>允许长度 0~167772150 字节</p>
</li>
<li><p>longtext</p>
<p>允许长度 0~4294967295 字节</p>
</li>
</ul>
<h2 id="二、DDL"><a href="#二、DDL" class="headerlink" title="二、DDL"></a>二、DDL</h2><h3 id="操作数据库"><a href="#操作数据库" class="headerlink" title="操作数据库"></a>操作数据库</h3><h4 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建数据库</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> XXX ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建前判读数据库是否存在，并设置字符集</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> <span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exists</span> XXX <span class="built_in">character</span> <span class="keyword">set</span> utf8 ;</span><br></pre></td></tr></table></figure>

<h4 id="修改数据库"><a href="#修改数据库" class="headerlink" title="修改数据库"></a>修改数据库</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改数据库字符集</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">database</span> XXX <span class="built_in">character</span> <span class="keyword">set</span> utf8 ;</span><br></pre></td></tr></table></figure>

<h4 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> XXX ;</span><br></pre></td></tr></table></figure>

<h4 id="查询数据库"><a href="#查询数据库" class="headerlink" title="查询数据库"></a>查询数据库</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看已有的数据库</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span> ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看数据库的定义信息</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">database</span> XXX ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 切换使用的数据库</span></span><br><span class="line"><span class="keyword">use</span> XXX ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看正在使用的数据库</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">database</span>() ;</span><br></pre></td></tr></table></figure>

<h3 id="操作表"><a href="#操作表" class="headerlink" title="操作表"></a>操作表</h3><h4 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建表，存储引擎为InnoDB，字符集为utf8</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exists</span> XXX (</span><br><span class="line">	<span class="keyword">id</span>	<span class="built_in">int</span>(<span class="number">8</span>),</span><br><span class="line">	<span class="keyword">name</span>	<span class="built_in">varchar</span>(<span class="number">5</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;;</span><br></pre></td></tr></table></figure>

<h4 id="复制表"><a href="#复制表" class="headerlink" title="复制表"></a>复制表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 复制表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> XXX <span class="keyword">like</span> XXX ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 蠕虫复制（将一个表中的数据复制到另一个表中）</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> XXX <span class="keyword">select</span> * <span class="keyword">from</span> XXX ;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> XXX(<span class="keyword">name</span>, sex) <span class="keyword">select</span> <span class="keyword">name</span>,sex <span class="keyword">from</span> XXX ;</span><br></pre></td></tr></table></figure>

<h4 id="修改表"><a href="#修改表" class="headerlink" title="修改表"></a>修改表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改表名</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">rename</span> <span class="keyword">to</span> XXX ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改字符集</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="built_in">character</span> <span class="keyword">set</span> 字符集 ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 添加列</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">add</span> 列名 数据类型 ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除列</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">drop</span> 列名 ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改列</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">change</span> 列名 新列名 新数据类型 ; <span class="comment"># 修改列名及数据类型</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">modify</span> 列名 新数据类型 ; <span class="comment"># 修改数据类型</span></span><br></pre></td></tr></table></figure>

<h4 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 先判断表是否存在，存在就删除</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> XXX ;</span><br></pre></td></tr></table></figure>

<h4 id="查询表"><a href="#查询表" class="headerlink" title="查询表"></a>查询表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看当前使用的数据库拥有的表</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span> ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看表结构</span></span><br><span class="line">desc XXX ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看创建表的语句</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> XXX ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看表的相关信息</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">table</span> <span class="keyword">status</span> <span class="keyword">like</span> <span class="string">'tableName'</span> \G ;</span><br></pre></td></tr></table></figure>

<h2 id="三、四大约束"><a href="#三、四大约束" class="headerlink" title="三、四大约束"></a>三、四大约束</h2><h3 id="主键-primary-key"><a href="#主键-primary-key" class="headerlink" title="主键    primary key"></a>主键    <code>primary key</code></h3><blockquote>
<p>主键约束：取值非空且唯一</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1. 创建表时添加主键约束</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> XXX (</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 2. 修改表时添加主键约束</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">modify</span> <span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除主键约束：</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">drop</span> primary <span class="keyword">key</span> ;</span><br></pre></td></tr></table></figure>

<h3 id="外键-foreign-key"><a href="#外键-foreign-key" class="headerlink" title="外键    foreign key"></a>外键    <code>foreign key</code></h3><blockquote>
<p>外键的级联操作：</p>
<ul>
<li>级联更新    <code>on update cascade</code></li>
<li>级联删除    <code>on delete cascade</code></li>
</ul>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1. 创建表时添加外键约束</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> XXX (</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>,</span><br><span class="line">    <span class="keyword">constraint</span> 外键名称 <span class="keyword">foreign</span> <span class="keyword">key</span>(外键列名) <span class="keyword">references</span> 主表名称(主表列名)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 2. 修改表时添加外键约束</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">add</span> <span class="keyword">constraint</span> 外键名称 <span class="keyword">foreign</span> <span class="keyword">key</span>(外键列名) <span class="keyword">references</span> 主表名称(主表列名) ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除外键约束</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">drop</span> <span class="keyword">foreign</span> <span class="keyword">key</span> 外键名称 ;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 级联操作：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 添加级联</span></span><br><span class="line"><span class="comment">-- 1. 创建表时添加</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> XXX (</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>,</span><br><span class="line">    <span class="keyword">constraint</span> 外键名称 </span><br><span class="line">    	<span class="keyword">foreign</span> <span class="keyword">key</span>(外键列名) <span class="keyword">references</span> 主表名称(主表列名) </span><br><span class="line">    	<span class="keyword">on</span> <span class="keyword">update</span> <span class="keyword">cascade</span> <span class="keyword">on</span> <span class="keyword">delete</span> <span class="keyword">cascade</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 2. 修改表时添加</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX </span><br><span class="line">	<span class="keyword">add</span> <span class="keyword">constraint</span> 外键名称 <span class="keyword">foreign</span> <span class="keyword">key</span>(外键列名) <span class="keyword">references</span> 主表名称(主表列名) </span><br><span class="line">	<span class="keyword">on</span> <span class="keyword">update</span> <span class="keyword">cascade</span> <span class="keyword">on</span> <span class="keyword">delete</span> <span class="keyword">cascade</span> ;</span><br></pre></td></tr></table></figure>

<h3 id="唯一-unique"><a href="#唯一-unique" class="headerlink" title="唯一    unique"></a>唯一    <code>unique</code></h3><blockquote>
<p>唯一约束对 null 值不起作用，因为数据库认为所有 null 都是不一样的</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1. 创建表时设置唯一约束</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> XXX (</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> <span class="keyword">unique</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 2. 修改表时设置唯一约束</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">modify</span> <span class="keyword">id</span> <span class="built_in">int</span> <span class="keyword">unique</span> ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除唯一约束</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">modify</span> <span class="keyword">id</span> <span class="built_in">int</span> ; <span class="comment"># 其实就是修改列</span></span><br></pre></td></tr></table></figure>

<h3 id="非空-not-null"><a href="#非空-not-null" class="headerlink" title="非空    not null"></a>非空    <code>not null</code></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1. 创建表时设置非空约束</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> XXX (</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 2. 修改表时设置非空约束</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">modify</span> <span class="keyword">id</span> <span class="built_in">int</span> <span class="keyword">not</span> <span class="literal">null</span> ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除非空约束</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">modify</span> <span class="keyword">id</span> <span class="built_in">int</span> ; <span class="comment"># 其实就是修改列</span></span><br></pre></td></tr></table></figure>

<h3 id="自动增长"><a href="#自动增长" class="headerlink" title="自动增长"></a>自动增长</h3><blockquote>
<p>当某一列为数值类型时，可使用 auto_increment 关键字来实现值的自动增长。</p>
<p>常搭配主键使用。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1. 创建表时设置自动增长</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> XXX (</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 2. 修改表时设置自动增长</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">modify</span> <span class="keyword">id</span> <span class="built_in">int</span> auto_increment ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除自动增长</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">modify</span> <span class="keyword">id</span> <span class="built_in">int</span> ; <span class="comment"># 其实就是修改列</span></span><br></pre></td></tr></table></figure>

<h2 id="四、DML"><a href="#四、DML" class="headerlink" title="四、DML"></a>四、DML</h2><h3 id="增"><a href="#增" class="headerlink" title="增"></a>增</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 除了 数字 和 NULL ，其它类型需要用引号引起来 */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 为所有列增加数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> XXX <span class="keyword">values</span>(值<span class="number">1</span>,值<span class="number">2</span>,值<span class="number">3</span>) ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 为指定列增加数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> XXX(列名<span class="number">1</span>,列名<span class="number">2</span>,列名<span class="number">3</span>) <span class="keyword">values</span>(值<span class="number">1</span>,值<span class="number">2</span>,值<span class="number">3</span>) ;</span><br></pre></td></tr></table></figure>

<h3 id="删"><a href="#删" class="headerlink" title="删"></a>删</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 根据条件删除数据</span></span><br><span class="line"><span class="keyword">delete</span> tableName <span class="keyword">from</span> XXX <span class="keyword">where</span> 条件 ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除所有数据</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> XXX ; <span class="comment"># 不推荐，会为每条记录执行删除语句，并记录日志</span></span><br><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> XXX ; <span class="comment"># 推荐，先删除表，再创建一张一样的表，不记录删除日志，不会激活触发器</span></span><br></pre></td></tr></table></figure>

<h3 id="改"><a href="#改" class="headerlink" title="改"></a>改</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改满足条件的行</span></span><br><span class="line"><span class="keyword">update</span> XXX <span class="keyword">set</span> 列名<span class="number">1</span>=值<span class="number">1</span>, 列名<span class="number">2</span>=值<span class="number">2</span> <span class="keyword">where</span> 条件 ;</span><br></pre></td></tr></table></figure>

<h2 id="五、DQL"><a href="#五、DQL" class="headerlink" title="五、DQL"></a>五、DQL</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 执行顺序：</span></span><br><span class="line"><span class="comment"> 	1. from				将数据从磁盘加载进数据缓冲区，以便操作数据</span></span><br><span class="line"><span class="comment"> 	2. join</span></span><br><span class="line"><span class="comment"> 	3. where			基于指定条件对数据进行筛选</span></span><br><span class="line"><span class="comment"> 	4. group by			将数据划分为多个分组</span></span><br><span class="line"><span class="comment"> 	5. 聚合函数</span></span><br><span class="line"><span class="comment"> 	6. having			筛选分组</span></span><br><span class="line"><span class="comment"> 	7. 计算所有的表达式</span></span><br><span class="line"><span class="comment"> 	8. select</span></span><br><span class="line"><span class="comment"> 	9. order by			对结果排序</span></span><br><span class="line"><span class="comment"> 	</span></span><br><span class="line"><span class="comment"> 	where 与 having 的区别：</span></span><br><span class="line"><span class="comment"> 		- where 在分组之前进行筛选，不满足则不参与分组；</span></span><br><span class="line"><span class="comment"> 		  having 在分组之后进行筛选，不满足的分组则不会出现在最后的结果中</span></span><br><span class="line"><span class="comment"> 		- where 后不能跟聚合函数</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span></span><br><span class="line">	字段列表</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	表名列表</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	分组之前的条件列表</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span></span><br><span class="line">	分组字段</span><br><span class="line"><span class="keyword">having</span></span><br><span class="line">	分组之后的条件</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span></span><br><span class="line">	排序</span><br><span class="line"><span class="keyword">limit</span></span><br><span class="line">	分页限定</span><br></pre></td></tr></table></figure>

<h3 id="基础查询"><a href="#基础查询" class="headerlink" title="基础查询"></a>基础查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询指定列，并为列名2起别名</span></span><br><span class="line"><span class="keyword">select</span> 列名<span class="number">1</span>, 列名<span class="number">2</span> <span class="keyword">as</span> 别名 <span class="keyword">from</span> XXX ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询所有列，并去重</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> * <span class="keyword">from</span> XXX ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 计算列</span></span><br><span class="line"><span class="keyword">select</span> 列名<span class="number">1</span>+列名<span class="number">2</span> <span class="keyword">from</span> XXX ; <span class="comment">-- 注意：null参与的计算，结果为null</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">ifnull</span>(列名<span class="number">1</span>, 替换值)+列名<span class="number">2</span> <span class="keyword">from</span> XXX ; <span class="comment">-- 此时，若列名1取值为null会被替换值替换掉</span></span><br></pre></td></tr></table></figure>

<h3 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 运算符：</span></span><br><span class="line"><span class="comment"> 	&gt; 、&lt; 、&lt;= 、&gt;= 、= 、&lt;&gt;、!=</span></span><br><span class="line"><span class="comment"> 	between A and B		在 A~B 之间</span></span><br><span class="line"><span class="comment"> 	in(集合)			   in(1,2,3) 等同于 where id=1 or id=2 or id=3 ;</span></span><br><span class="line"><span class="comment"> 	like				_（单个任意字符），%（多个任意字符）</span></span><br><span class="line"><span class="comment"> 	is null				a=null（用法错误），a is null（正确）</span></span><br><span class="line"><span class="comment"> 	and / &amp;&amp;</span></span><br><span class="line"><span class="comment"> 	or / ||</span></span><br><span class="line"><span class="comment"> 	not / !</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="高级查询"><a href="#高级查询" class="headerlink" title="高级查询"></a>高级查询</h3><h4 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询所有数据，按照id升序，name降序</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> XXX <span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">id</span> <span class="keyword">ASC</span>, <span class="keyword">name</span> <span class="keyword">DESC</span> ;</span><br></pre></td></tr></table></figure>

<h4 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 聚合函数的计算，会排除null值</span></span><br><span class="line">count( 列名 ) 	： 计算个数</span><br><span class="line">max( 列名 ) 		： 计算最大值</span><br><span class="line">min( 列名 ) 		： 计算最小值</span><br><span class="line">sum( 列名 ) 		： 计算和</span><br><span class="line">avg( 列名 ) 		： 计算平均值</span><br></pre></td></tr></table></figure>

<h4 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 分组查询时，字段列表只能包含：分组字段、聚合函数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 按 age 分组</span></span><br><span class="line"><span class="keyword">select</span> age,<span class="keyword">avg</span>(age) <span class="keyword">from</span> XXX <span class="keyword">group</span> <span class="keyword">by</span> age ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 按 id 分组，排除 id &lt;= 1 的分组</span></span><br><span class="line"><span class="keyword">select</span> age <span class="keyword">from</span> XXX <span class="keyword">group</span> <span class="keyword">by</span> age <span class="keyword">having</span> age &gt; <span class="number">1</span> ;</span><br></pre></td></tr></table></figure>

<h4 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- limit 是 MySQL 的方言</span></span><br><span class="line"><span class="comment">-- 公式：开始处索引 = (当前页码-1)*每页条数</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> XXX <span class="keyword">limit</span> 开始处索引 , 每页条数</span><br></pre></td></tr></table></figure>

<h3 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h3><h4 id="笛卡尔积"><a href="#笛卡尔积" class="headerlink" title="笛卡尔积"></a>笛卡尔积</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> t1, t2 ; <span class="comment">-- 无意义</span></span><br></pre></td></tr></table></figure>

<h4 id="等值连接"><a href="#等值连接" class="headerlink" title="等值连接"></a>等值连接</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> t1，t2 <span class="keyword">where</span> t1.id = t2.id ;</span><br></pre></td></tr></table></figure>

<h4 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 隐式内连接（使用 where 消除无用数据）</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> t1，t2 <span class="keyword">where</span> t1.id = t2.id ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 显式内连接</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> t1 [<span class="keyword">inner</span>] <span class="keyword">join</span> t2 <span class="keyword">on</span> 条件 ;</span><br></pre></td></tr></table></figure>

<h4 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 左外连接（左表全数据）</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> t1 <span class="keyword">left</span> [<span class="keyword">outer</span>] <span class="keyword">join</span> t2 <span class="keyword">on</span> 条件 ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 右外连接</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> t1 <span class="keyword">right</span> [<span class="keyword">outer</span>] <span class="keyword">join</span> t2 <span class="keyword">on</span> 条件 ;</span><br></pre></td></tr></table></figure>

<h4 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询结果为：单行单列</span></span><br><span class="line">此时子查询作为条件，可用运算符去判断。如：&gt; 、&gt;= 、&lt; 、&lt;= 、=</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询结果为：单行单列</span></span><br><span class="line">此时子查询作为条件，可用运算符 in 去判断。</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询结果为：单行单列</span></span><br><span class="line">此时子查询作为一张虚表参与查询</span><br></pre></td></tr></table></figure>

<h2 id="六、索引"><a href="#六、索引" class="headerlink" title="六、索引"></a>六、索引</h2><blockquote>
<p>列如果是 char，varchar类型，length 可以小于字段实际长度；如果是 blob 和 text 类型，必须指定 length 。</p>
</blockquote>
<h3 id="普通索引-normal"><a href="#普通索引-normal" class="headerlink" title="普通索引    normal"></a>普通索引    <code>normal</code></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 直接创建</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">index</span> 索引名称 <span class="keyword">on</span> XXX(列名(<span class="keyword">length</span>)) ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建表时创建</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> XXX (</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">5</span>),</span><br><span class="line">    <span class="keyword">index</span> [索引名称] (<span class="keyword">name</span>(<span class="keyword">length</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改表时添加</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">add</span> <span class="keyword">index</span> 索引名称(列名) ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除索引</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">index</span> [索引名称] <span class="keyword">on</span> XXX ;</span><br></pre></td></tr></table></figure>

<h3 id="唯一索引-unique"><a href="#唯一索引-unique" class="headerlink" title="唯一索引    unique"></a>唯一索引    <code>unique</code></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 直接创建</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">unique</span> <span class="keyword">index</span> 索引名称 <span class="keyword">on</span> XXX(列名(<span class="keyword">length</span>)) ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建表时创建</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> XXX (</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">5</span>),</span><br><span class="line">    <span class="keyword">unique</span> <span class="keyword">index</span> [索引名称] (<span class="keyword">name</span>(<span class="keyword">length</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改表时添加</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> XXX <span class="keyword">add</span> <span class="keyword">unique</span> <span class="keyword">index</span> [索引名称](列名(<span class="keyword">length</span>)) ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除索引</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">index</span> [索引名称] <span class="keyword">on</span> XXX ;</span><br></pre></td></tr></table></figure>

<h3 id="空间索引-spatial"><a href="#空间索引-spatial" class="headerlink" title="空间索引    spatial"></a>空间索引    <code>spatial</code></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 参考上述</span></span><br></pre></td></tr></table></figure>

<h3 id="全文索引-fulltext"><a href="#全文索引-fulltext" class="headerlink" title="全文索引    fulltext"></a>全文索引    <code>fulltext</code></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 参考上述</span></span><br></pre></td></tr></table></figure>

<h2 id="七、Explain"><a href="#七、Explain" class="headerlink" title="七、Explain"></a>七、Explain</h2><table>
<thead>
<tr>
<th align="center">左对齐</th>
<th align="center">右对齐</th>
</tr>
</thead>
<tbody><tr>
<td align="center">id</td>
<td align="center">查询的序号，包含一组数字，表示查询中执行select子句或操作表的顺序<br/><strong>两种情况</strong><br/>id 相同，执行顺序从上往下<br/>id 不同，id 值越大，优先级越高，越先执行</td>
</tr>
<tr>
<td align="center">select_type</td>
<td align="center">单元格</td>
</tr>
<tr>
<td align="center">table</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">type</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">possible_keys</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">key</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">key_len</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ref</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">rows</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">Extra</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h2 id="八、DCL"><a href="#八、DCL" class="headerlink" title="八、DCL"></a>八、DCL</h2><h3 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建用户</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">'用户名'</span>@<span class="string">'主机名'</span> <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">'密码'</span> ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除用户</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> <span class="string">'用户名'</span>@<span class="string">'主机名'</span> ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询用户</span></span><br><span class="line"><span class="keyword">use</span> mysql ; <span class="comment">-- 切换数据库</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">user</span> ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改用户密码</span></span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> <span class="keyword">password</span>=<span class="keyword">password</span>(<span class="string">'新密码'</span>) <span class="keyword">where</span> <span class="keyword">user</span> = <span class="string">'用户名'</span> ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 忘记root用户密码</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1. cmd --&gt; net stop mysql			停止 mysql 服务（管理员运行）</span></span><br><span class="line"><span class="comment">2. mysqld --&gt; skip-grant-tables		使用无验证方式启动mysql服务</span></span><br><span class="line"><span class="comment">3. 打开新的cmd窗口，直接输入mysql命令，敲回车。就可以登录成功。</span></span><br><span class="line"><span class="comment">4. use mysql 						切换数据库</span></span><br><span class="line"><span class="comment">5. update user set password = password('你的新密码') where user = 'root'</span></span><br><span class="line"><span class="comment">6. 关闭两个窗口</span></span><br><span class="line"><span class="comment">7. 打开任务管理器，手动结束 mysqld.exe 的进程</span></span><br><span class="line"><span class="comment">8. 启动 mysql 服务</span></span><br><span class="line"><span class="comment">9. 使用新密码登录</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询权限</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">grants</span> <span class="keyword">for</span> <span class="string">'用户名'</span>@<span class="string">'主机名'</span> ;</span><br><span class="line"><span class="comment">-- 授予权限</span></span><br><span class="line"><span class="keyword">grant</span> 权限列表 <span class="keyword">on</span> 数据库名.表名 <span class="keyword">to</span> <span class="string">'用户名'</span>@<span class="string">'主机名'</span> ;</span><br><span class="line"><span class="comment">-- 撤销权限</span></span><br><span class="line"><span class="keyword">revoke</span> 权限列表 <span class="keyword">on</span> 数据库名.表名 <span class="keyword">from</span> <span class="string">'用户名'</span>@<span class="string">'主机名'</span> ;</span><br></pre></td></tr></table></figure>

<h2 id="九、数据库备份-还原"><a href="#九、数据库备份-还原" class="headerlink" title="九、数据库备份/还原"></a>九、数据库备份/还原</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 数据库备份</span></span><br><span class="line">mysqldump -u用户名 -p密码 数据库名称 &gt; 保存的路径</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 数据库还原</span></span><br><span class="line"><span class="keyword">use</span> <span class="keyword">database</span> ; <span class="comment">-- 切换到数据库</span></span><br><span class="line">source 文件路径 ; <span class="comment">-- 开始还原</span></span><br></pre></td></tr></table></figure>

</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">愆凡</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yoursite.com/2019/11/18/%E3%80%90%20MySQL%20%E7%B3%BB%E5%88%97%2001%20%E3%80%91%EF%BC%9ASQL/">http://yoursite.com/2019/11/18/%E3%80%90%20MySQL%20%E7%B3%BB%E5%88%97%2001%20%E3%80%91%EF%BC%9ASQL/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yoursite.com" target="_blank">愆凡の博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MySQL/">MySQL    </a></div><div class="post_share"><div class="social-share" data-image="/img/avatar.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2019/11/27/%E3%80%90%20Redis%20%E7%B3%BB%E5%88%97%2002%20%E3%80%91%EF%BC%9ARedis%20%E5%A4%9A%E6%9C%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%9E%E7%8E%B0/"><img class="prev_cover lazyload" data-src="/img/post.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">【 Redis 系列 02 】：Redis 多机数据库的实现</div></div></a></div><div class="next-post pull_right"><a href="/2019/11/14/%E3%80%90%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%2001%20%E3%80%91%EF%BC%9A%E5%9F%BA%E7%A1%80/"><img class="next_cover lazyload" data-src="/img/post.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">【 操作系统 01 】：基础</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2019/08/31/【 MySQL 系列 02 】：事务/" title="【 MySQL 系列 02 】：事务"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-08-31</div><div class="relatedPosts_title">【 MySQL 系列 02 】：事务</div></div></a></div><div class="relatedPosts_item"><a href="/2019/11/06/【 MySQL 系列 03 】：索引/" title="【 MySQL 系列 03 】：索引"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-11-06</div><div class="relatedPosts_title">【 MySQL 系列 03 】：索引</div></div></a></div><div class="relatedPosts_item"><a href="/2020/03/19/【 MySQL 系列 04 】：MySQL 原理/" title="【 MySQL 系列 04 】：MySQL 原理"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-03-19</div><div class="relatedPosts_title">【 MySQL 系列 04 】：MySQL 原理</div></div></a></div><div class="relatedPosts_item"><a href="/2019/11/06/【 MySQL 系列 】：MySQL 实战/" title="【 MySQL 系列 】：MySQL 实战"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-11-06</div><div class="relatedPosts_title">【 MySQL 系列 】：MySQL 实战</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By 愆凡</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">簡</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>